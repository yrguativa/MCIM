import{i as xs,r as C,j as p,Y as _s,g as ws,ax as co,h as En,ay as fo,az as ho,aA as mo,aB as po,aC as go,aD as yo,aE as vo,B as mn,aF as cr,aG as xo,W as _o,al as bs,ae as wo,Z as bo,am as To,$ as Ts,an as Mo,a0 as Xe,X as Ms,ao as So,au as Co,av as ko,aH as Ao,aI as No,aw as Do,aa as Ro,C as Po}from"./index-mvomixtw.js";import{e as Eo,u as Qn,I as $o}from"./event.store-BY-hmKmP.js";import{n as Fr,k as mi,g as Ss,j as ft,d as Fo,f as ce,e as Io}from"./format-B6N5uOCh.js";import{e as $n}from"./es-qEt9a_fm.js";import{e as Uo,d as Oo,a as jo,i as Lo}from"./endOfMonth-BxcVBkcm.js";import{T as Ho}from"./TableComponent-DgabiVc1.js";import{t as rt,c as Vo,m as pi,a as Kt}from"./toDate-KnhkpVFB.js";import"./table-C3YH20uJ.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=[["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M21 12.598V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8.5",key:"1glfrc"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}]],Yo=xs("calendar-plus",zo);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],Wo=xs("qr-code",qo);function an(e,t){const n=+rt(e)-+rt(t);return n<0?-1:n>0?1:n}function Xo(e){return Vo(e,Date.now())}function Bo(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function Qo(e,t){return+rt(e)-+rt(t)}function Go(e,t){const n=rt(e,t?.in);return n.setHours(23,59,59,999),n}function Zo(e,t){const n=rt(e,t?.in);return+Go(n,t)==+Uo(n,t)}function Ko(e,t,n){const[r,i,s]=Fr(n?.in,e,e,t),a=an(i,s),o=Math.abs(Oo(i,s));if(o<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-a*o);let l=an(i,s)===-a;Zo(r)&&o===1&&an(r,s)===1&&(l=!1);const u=a*(o-+l);return u===0?0:u}function Jo(e,t,n){const r=Qo(e,t)/1e3;return Bo(n?.roundingMethod)(r)}function eu(e,t,n){const r=Ss(),i=n?.locale??r.locale??ft,s=2520,a=an(e,t);if(isNaN(a))throw new RangeError("Invalid time value");const o=Object.assign({},n,{addSuffix:n?.addSuffix,comparison:a}),[l,u]=Fr(n?.in,...a>0?[t,e]:[e,t]),c=Jo(u,l),f=(mi(u)-mi(l))/1e3,h=Math.round((c-f)/60);let d;if(h<2)return n?.includeSeconds?c<5?i.formatDistance("lessThanXSeconds",5,o):c<10?i.formatDistance("lessThanXSeconds",10,o):c<20?i.formatDistance("lessThanXSeconds",20,o):c<40?i.formatDistance("halfAMinute",0,o):c<60?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",1,o):h===0?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",h,o);if(h<45)return i.formatDistance("xMinutes",h,o);if(h<90)return i.formatDistance("aboutXHours",1,o);if(h<pi){const m=Math.round(h/60);return i.formatDistance("aboutXHours",m,o)}else{if(h<s)return i.formatDistance("xDays",1,o);if(h<Kt){const m=Math.round(h/pi);return i.formatDistance("xDays",m,o)}else if(h<Kt*2)return d=Math.round(h/Kt),i.formatDistance("aboutXMonths",d,o)}if(d=Ko(u,l),d<12){const m=Math.round(h/Kt);return i.formatDistance("xMonths",m,o)}else{const m=d%12,g=Math.trunc(d/12);return m<3?i.formatDistance("aboutXYears",g,o):m<9?i.formatDistance("overXYears",g,o):i.formatDistance("almostXYears",g+1,o)}}function tu(e,t){return eu(e,Xo(e),t)}function nu(e,t,n){const[r,i]=Fr(n?.in,e,t),s=Ss(),a=n?.locale??s.locale??ft,o=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,l=Fo(r,i);if(isNaN(l))throw new RangeError("Invalid time value");let u;l<-6?u="other":l<-1?u="lastWeek":l<0?u="yesterday":l<1?u="today":l<2?u="tomorrow":l<7?u="nextWeek":u="other";const c=a.formatRelative(u,r,i,{locale:a,weekStartsOn:o});return ce(r,c,{locale:a,weekStartsOn:o})}var ru="Separator",gi="horizontal",iu=["horizontal","vertical"],Cs=C.forwardRef((e,t)=>{const{decorative:n,orientation:r=gi,...i}=e,s=su(r)?r:gi,o=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return p.jsx(_s.div,{"data-orientation":s,...o,...i,ref:t})});Cs.displayName=ru;function su(e){return iu.includes(e)}var ks=Cs;const As=C.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},i)=>p.jsx(ks,{ref:i,decorative:n,orientation:t,className:ws("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));As.displayName=ks.displayName;function on(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function au(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ir(e){let t,n,r;e.length!==2?(t=on,n=(o,l)=>on(e(o),l),r=(o,l)=>e(o)-l):(t=e===on||e===au?e:ou,n=e,r=e);function i(o,l,u=0,c=o.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(o[f],l)<0?u=f+1:c=f}while(u<c)}return u}function s(o,l,u=0,c=o.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(o[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function a(o,l,u=0,c=o.length){const f=i(o,l,u,c-1);return f>u&&r(o[f-1],l)>-r(o[f],l)?f-1:f}return{left:i,center:a,right:s}}function ou(){return 0}function uu(e){return e===null?NaN:+e}const lu=Ir(on),cu=lu.right;Ir(uu).center;const fu=Math.sqrt(50),hu=Math.sqrt(10),du=Math.sqrt(2);function pn(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=fu?10:s>=hu?5:s>=du?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/a,o=Math.round(e*u),l=Math.round(t*u),o/u<e&&++o,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*a,o=Math.round(e/u),l=Math.round(t/u),o*u<e&&++o,l*u>t&&--l),l<o&&.5<=n&&n<2?pn(e,t,n*2):[o,l,u]}function mu(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,s,a]=r?pn(t,e,n):pn(e,t,n);if(!(s>=i))return[];const o=s-i+1,l=new Array(o);if(r)if(a<0)for(let u=0;u<o;++u)l[u]=(s-u)/-a;else for(let u=0;u<o;++u)l[u]=(s-u)*a;else if(a<0)for(let u=0;u<o;++u)l[u]=(i+u)/-a;else for(let u=0;u<o;++u)l[u]=(i+u)*a;return l}function fr(e,t,n){return t=+t,e=+e,n=+n,pn(e,t,n)[2]}function hr(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?fr(t,e,n):fr(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function pu(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}var gu={value:()=>{}};function Ns(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new un(n)}function un(e){this._=e}function yu(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}un.prototype=Ns.prototype={constructor:un,on:function(e,t){var n=this._,r=yu(e+"",n),i,s=-1,a=r.length;if(arguments.length<2){for(;++s<a;)if((i=(e=r[s]).type)&&(i=vu(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<a;)if(i=(e=r[s]).type)n[i]=yi(n[i],e.name,t);else if(t==null)for(i in n)n[i]=yi(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new un(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,i=s.length;r<i;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,s=r.length;i<s;++i)r[i].value.apply(t,n)}};function vu(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function yi(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=gu,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var dr="http://www.w3.org/1999/xhtml";const vi={svg:"http://www.w3.org/2000/svg",xhtml:dr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Fn(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),vi.hasOwnProperty(t)?{space:vi[t],local:e}:e}function xu(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===dr&&t.documentElement.namespaceURI===dr?t.createElement(e):t.createElementNS(n,e)}}function _u(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Ds(e){var t=Fn(e);return(t.local?_u:xu)(t)}function wu(){}function Ur(e){return e==null?wu:function(){return this.querySelector(e)}}function bu(e){typeof e!="function"&&(e=Ur(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],a=s.length,o=r[i]=new Array(a),l,u,c=0;c<a;++c)(l=s[c])&&(u=e.call(l,l.__data__,c,s))&&("__data__"in l&&(u.__data__=l.__data__),o[c]=u);return new de(r,this._parents)}function Tu(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Mu(){return[]}function Rs(e){return e==null?Mu:function(){return this.querySelectorAll(e)}}function Su(e){return function(){return Tu(e.apply(this,arguments))}}function Cu(e){typeof e=="function"?e=Su(e):e=Rs(e);for(var t=this._groups,n=t.length,r=[],i=[],s=0;s<n;++s)for(var a=t[s],o=a.length,l,u=0;u<o;++u)(l=a[u])&&(r.push(e.call(l,l.__data__,u,a)),i.push(l));return new de(r,i)}function Ps(e){return function(){return this.matches(e)}}function Es(e){return function(t){return t.matches(e)}}var ku=Array.prototype.find;function Au(e){return function(){return ku.call(this.children,e)}}function Nu(){return this.firstElementChild}function Du(e){return this.select(e==null?Nu:Au(typeof e=="function"?e:Es(e)))}var Ru=Array.prototype.filter;function Pu(){return Array.from(this.children)}function Eu(e){return function(){return Ru.call(this.children,e)}}function $u(e){return this.selectAll(e==null?Pu:Eu(typeof e=="function"?e:Es(e)))}function Fu(e){typeof e!="function"&&(e=Ps(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],a=s.length,o=r[i]=[],l,u=0;u<a;++u)(l=s[u])&&e.call(l,l.__data__,u,s)&&o.push(l);return new de(r,this._parents)}function $s(e){return new Array(e.length)}function Iu(){return new de(this._enter||this._groups.map($s),this._parents)}function gn(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}gn.prototype={constructor:gn,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Uu(e){return function(){return e}}function Ou(e,t,n,r,i,s){for(var a=0,o,l=t.length,u=s.length;a<u;++a)(o=t[a])?(o.__data__=s[a],r[a]=o):n[a]=new gn(e,s[a]);for(;a<l;++a)(o=t[a])&&(i[a]=o)}function ju(e,t,n,r,i,s,a){var o,l,u=new Map,c=t.length,f=s.length,h=new Array(c),d;for(o=0;o<c;++o)(l=t[o])&&(h[o]=d=a.call(l,l.__data__,o,t)+"",u.has(d)?i[o]=l:u.set(d,l));for(o=0;o<f;++o)d=a.call(e,s[o],o,s)+"",(l=u.get(d))?(r[o]=l,l.__data__=s[o],u.delete(d)):n[o]=new gn(e,s[o]);for(o=0;o<c;++o)(l=t[o])&&u.get(h[o])===l&&(i[o]=l)}function Lu(e){return e.__data__}function Hu(e,t){if(!arguments.length)return Array.from(this,Lu);var n=t?ju:Ou,r=this._parents,i=this._groups;typeof e!="function"&&(e=Uu(e));for(var s=i.length,a=new Array(s),o=new Array(s),l=new Array(s),u=0;u<s;++u){var c=r[u],f=i[u],h=f.length,d=Vu(e.call(c,c&&c.__data__,u,r)),m=d.length,g=o[u]=new Array(m),w=a[u]=new Array(m),y=l[u]=new Array(h);n(c,f,g,w,y,d,t);for(var b=0,v=0,T,k;b<m;++b)if(T=g[b]){for(b>=v&&(v=b+1);!(k=w[v])&&++v<m;);T._next=k||null}}return a=new de(a,r),a._enter=o,a._exit=l,a}function Vu(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function zu(){return new de(this._exit||this._groups.map($s),this._parents)}function Yu(e,t,n){var r=this.enter(),i=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function qu(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,s=r.length,a=Math.min(i,s),o=new Array(i),l=0;l<a;++l)for(var u=n[l],c=r[l],f=u.length,h=o[l]=new Array(f),d,m=0;m<f;++m)(d=u[m]||c[m])&&(h[m]=d);for(;l<i;++l)o[l]=n[l];return new de(o,this._parents)}function Wu(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,s=r[i],a;--i>=0;)(a=r[i])&&(s&&a.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(a,s),s=a);return this}function Xu(e){e||(e=Bu);function t(f,h){return f&&h?e(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var a=n[s],o=a.length,l=i[s]=new Array(o),u,c=0;c<o;++c)(u=a[c])&&(l[c]=u);l.sort(t)}return new de(i,this._parents).order()}function Bu(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Qu(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Gu(){return Array.from(this)}function Zu(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length;i<s;++i){var a=r[i];if(a)return a}return null}function Ku(){let e=0;for(const t of this)++e;return e}function Ju(){return!this.node()}function el(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],s=0,a=i.length,o;s<a;++s)(o=i[s])&&e.call(o,o.__data__,s,i);return this}function tl(e){return function(){this.removeAttribute(e)}}function nl(e){return function(){this.removeAttributeNS(e.space,e.local)}}function rl(e,t){return function(){this.setAttribute(e,t)}}function il(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function sl(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function al(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function ol(e,t){var n=Fn(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?nl:tl:typeof t=="function"?n.local?al:sl:n.local?il:rl)(n,t))}function Fs(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function ul(e){return function(){this.style.removeProperty(e)}}function ll(e,t,n){return function(){this.style.setProperty(e,t,n)}}function cl(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function fl(e,t,n){return arguments.length>1?this.each((t==null?ul:typeof t=="function"?cl:ll)(e,t,n??"")):it(this.node(),e)}function it(e,t){return e.style.getPropertyValue(t)||Fs(e).getComputedStyle(e,null).getPropertyValue(t)}function hl(e){return function(){delete this[e]}}function dl(e,t){return function(){this[e]=t}}function ml(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function pl(e,t){return arguments.length>1?this.each((t==null?hl:typeof t=="function"?ml:dl)(e,t)):this.node()[e]}function Is(e){return e.trim().split(/^|\s+/)}function Or(e){return e.classList||new Us(e)}function Us(e){this._node=e,this._names=Is(e.getAttribute("class")||"")}Us.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Os(e,t){for(var n=Or(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function js(e,t){for(var n=Or(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function gl(e){return function(){Os(this,e)}}function yl(e){return function(){js(this,e)}}function vl(e,t){return function(){(t.apply(this,arguments)?Os:js)(this,e)}}function xl(e,t){var n=Is(e+"");if(arguments.length<2){for(var r=Or(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?vl:t?gl:yl)(n,t))}function _l(){this.textContent=""}function wl(e){return function(){this.textContent=e}}function bl(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Tl(e){return arguments.length?this.each(e==null?_l:(typeof e=="function"?bl:wl)(e)):this.node().textContent}function Ml(){this.innerHTML=""}function Sl(e){return function(){this.innerHTML=e}}function Cl(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function kl(e){return arguments.length?this.each(e==null?Ml:(typeof e=="function"?Cl:Sl)(e)):this.node().innerHTML}function Al(){this.nextSibling&&this.parentNode.appendChild(this)}function Nl(){return this.each(Al)}function Dl(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Rl(){return this.each(Dl)}function Pl(e){var t=typeof e=="function"?e:Ds(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function El(){return null}function $l(e,t){var n=typeof e=="function"?e:Ds(e),r=t==null?El:typeof t=="function"?t:Ur(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Fl(){var e=this.parentNode;e&&e.removeChild(this)}function Il(){return this.each(Fl)}function Ul(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ol(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function jl(e){return this.select(e?Ol:Ul)}function Ll(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Hl(e){return function(t){e.call(this,t,this.__data__)}}function Vl(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function zl(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,s;n<i;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function Yl(e,t,n){return function(){var r=this.__on,i,s=Hl(t);if(r){for(var a=0,o=r.length;a<o;++a)if((i=r[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=t;return}}this.addEventListener(e.type,s,n),i={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(i):this.__on=[i]}}function ql(e,t,n){var r=Vl(e+""),i,s=r.length,a;if(arguments.length<2){var o=this.node().__on;if(o){for(var l=0,u=o.length,c;l<u;++l)for(i=0,c=o[l];i<s;++i)if((a=r[i]).type===c.type&&a.name===c.name)return c.value}return}for(o=t?Yl:zl,i=0;i<s;++i)this.each(o(r[i],t,n));return this}function Ls(e,t,n){var r=Fs(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Wl(e,t){return function(){return Ls(this,e,t)}}function Xl(e,t){return function(){return Ls(this,e,t.apply(this,arguments))}}function Bl(e,t){return this.each((typeof t=="function"?Xl:Wl)(e,t))}function*Ql(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length,a;i<s;++i)(a=r[i])&&(yield a)}var Gl=[null];function de(e,t){this._groups=e,this._parents=t}function Wt(){return new de([[document.documentElement]],Gl)}function Zl(){return this}de.prototype=Wt.prototype={constructor:de,select:bu,selectAll:Cu,selectChild:Du,selectChildren:$u,filter:Fu,data:Hu,enter:Iu,exit:zu,join:Yu,merge:qu,selection:Zl,order:Wu,sort:Xu,call:Qu,nodes:Gu,node:Zu,size:Ku,empty:Ju,each:el,attr:ol,style:fl,property:pl,classed:xl,text:Tl,html:kl,raise:Nl,lower:Rl,append:Pl,insert:$l,remove:Il,clone:jl,datum:Ll,on:ql,dispatch:Bl,[Symbol.iterator]:Ql};function jr(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Hs(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Xt(){}var Et=.7,yn=1/Et,et="\\s*([+-]?\\d+)\\s*",$t="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ve="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Kl=/^#([0-9a-f]{3,8})$/,Jl=new RegExp(`^rgb\\(${et},${et},${et}\\)$`),ec=new RegExp(`^rgb\\(${ve},${ve},${ve}\\)$`),tc=new RegExp(`^rgba\\(${et},${et},${et},${$t}\\)$`),nc=new RegExp(`^rgba\\(${ve},${ve},${ve},${$t}\\)$`),rc=new RegExp(`^hsl\\(${$t},${ve},${ve}\\)$`),ic=new RegExp(`^hsla\\(${$t},${ve},${ve},${$t}\\)$`),xi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};jr(Xt,Oe,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:_i,formatHex:_i,formatHex8:sc,formatHsl:ac,formatRgb:wi,toString:wi});function _i(){return this.rgb().formatHex()}function sc(){return this.rgb().formatHex8()}function ac(){return Vs(this).formatHsl()}function wi(){return this.rgb().formatRgb()}function Oe(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Kl.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?bi(t):n===3?new G(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Jt(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Jt(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Jl.exec(e))?new G(t[1],t[2],t[3],1):(t=ec.exec(e))?new G(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=tc.exec(e))?Jt(t[1],t[2],t[3],t[4]):(t=nc.exec(e))?Jt(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=rc.exec(e))?Si(t[1],t[2]/100,t[3]/100,1):(t=ic.exec(e))?Si(t[1],t[2]/100,t[3]/100,t[4]):xi.hasOwnProperty(e)?bi(xi[e]):e==="transparent"?new G(NaN,NaN,NaN,0):null}function bi(e){return new G(e>>16&255,e>>8&255,e&255,1)}function Jt(e,t,n,r){return r<=0&&(e=t=n=NaN),new G(e,t,n,r)}function oc(e){return e instanceof Xt||(e=Oe(e)),e?(e=e.rgb(),new G(e.r,e.g,e.b,e.opacity)):new G}function mr(e,t,n,r){return arguments.length===1?oc(e):new G(e,t,n,r??1)}function G(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}jr(G,mr,Hs(Xt,{brighter(e){return e=e==null?yn:Math.pow(yn,e),new G(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Et:Math.pow(Et,e),new G(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new G(Ue(this.r),Ue(this.g),Ue(this.b),vn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ti,formatHex:Ti,formatHex8:uc,formatRgb:Mi,toString:Mi}));function Ti(){return`#${Ie(this.r)}${Ie(this.g)}${Ie(this.b)}`}function uc(){return`#${Ie(this.r)}${Ie(this.g)}${Ie(this.b)}${Ie((isNaN(this.opacity)?1:this.opacity)*255)}`}function Mi(){const e=vn(this.opacity);return`${e===1?"rgb(":"rgba("}${Ue(this.r)}, ${Ue(this.g)}, ${Ue(this.b)}${e===1?")":`, ${e})`}`}function vn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ue(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ie(e){return e=Ue(e),(e<16?"0":"")+e.toString(16)}function Si(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new fe(e,t,n,r)}function Vs(e){if(e instanceof fe)return new fe(e.h,e.s,e.l,e.opacity);if(e instanceof Xt||(e=Oe(e)),!e)return new fe;if(e instanceof fe)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),a=NaN,o=s-i,l=(s+i)/2;return o?(t===s?a=(n-r)/o+(n<r)*6:n===s?a=(r-t)/o+2:a=(t-n)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new fe(a,o,l,e.opacity)}function lc(e,t,n,r){return arguments.length===1?Vs(e):new fe(e,t,n,r??1)}function fe(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}jr(fe,lc,Hs(Xt,{brighter(e){return e=e==null?yn:Math.pow(yn,e),new fe(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Et:Math.pow(Et,e),new fe(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new G(Gn(e>=240?e-240:e+120,i,r),Gn(e,i,r),Gn(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new fe(Ci(this.h),en(this.s),en(this.l),vn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=vn(this.opacity);return`${e===1?"hsl(":"hsla("}${Ci(this.h)}, ${en(this.s)*100}%, ${en(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Ci(e){return e=(e||0)%360,e<0?e+360:e}function en(e){return Math.max(0,Math.min(1,e||0))}function Gn(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Lr=e=>()=>e;function cc(e,t){return function(n){return e+n*t}}function fc(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function hc(e){return(e=+e)==1?zs:function(t,n){return n-t?fc(t,n,e):Lr(isNaN(t)?n:t)}}function zs(e,t){var n=t-e;return n?cc(e,n):Lr(isNaN(e)?t:e)}const xn=function e(t){var n=hc(t);function r(i,s){var a=n((i=mr(i)).r,(s=mr(s)).r),o=n(i.g,s.g),l=n(i.b,s.b),u=zs(i.opacity,s.opacity);return function(c){return i.r=a(c),i.g=o(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function dc(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function mc(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function pc(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=Hr(e[a],t[a]);for(;a<n;++a)s[a]=t[a];return function(o){for(a=0;a<r;++a)s[a]=i[a](o);return s}}function gc(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function ue(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function yc(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Hr(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var pr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zn=new RegExp(pr.source,"g");function vc(e){return function(){return e}}function xc(e){return function(t){return e(t)+""}}function Ys(e,t){var n=pr.lastIndex=Zn.lastIndex=0,r,i,s,a=-1,o=[],l=[];for(e=e+"",t=t+"";(r=pr.exec(e))&&(i=Zn.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),o[a]?o[a]+=s:o[++a]=s),(r=r[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:ue(r,i)})),n=Zn.lastIndex;return n<t.length&&(s=t.slice(n),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?xc(l[0].x):vc(t):(t=l.length,function(u){for(var c=0,f;c<t;++c)o[(f=l[c]).i]=f.x(u);return o.join("")})}function Hr(e,t){var n=typeof t,r;return t==null||n==="boolean"?Lr(t):(n==="number"?ue:n==="string"?(r=Oe(t))?(t=r,xn):Ys:t instanceof Oe?xn:t instanceof Date?gc:mc(t)?dc:Array.isArray(t)?pc:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?yc:ue)(e,t)}function _c(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var ki=180/Math.PI,gr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function qs(e,t,n,r,i,s){var a,o,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,l/=o),e*r<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*ki,skewX:Math.atan(l)*ki,scaleX:a,scaleY:o}}var tn;function wc(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?gr:qs(t.a,t.b,t.c,t.d,t.e,t.f)}function bc(e){return e==null||(tn||(tn=document.createElementNS("http://www.w3.org/2000/svg","g")),tn.setAttribute("transform",e),!(e=tn.transform.baseVal.consolidate()))?gr:(e=e.matrix,qs(e.a,e.b,e.c,e.d,e.e,e.f))}function Ws(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function s(u,c,f,h,d,m){if(u!==f||c!==h){var g=d.push("translate(",null,t,null,n);m.push({i:g-4,x:ue(u,f)},{i:g-2,x:ue(c,h)})}else(f||h)&&d.push("translate("+f+t+h+n)}function a(u,c,f,h){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),h.push({i:f.push(i(f)+"rotate(",null,r)-2,x:ue(u,c)})):c&&f.push(i(f)+"rotate("+c+r)}function o(u,c,f,h){u!==c?h.push({i:f.push(i(f)+"skewX(",null,r)-2,x:ue(u,c)}):c&&f.push(i(f)+"skewX("+c+r)}function l(u,c,f,h,d,m){if(u!==f||c!==h){var g=d.push(i(d)+"scale(",null,",",null,")");m.push({i:g-4,x:ue(u,f)},{i:g-2,x:ue(c,h)})}else(f!==1||h!==1)&&d.push(i(d)+"scale("+f+","+h+")")}return function(u,c){var f=[],h=[];return u=e(u),c=e(c),s(u.translateX,u.translateY,c.translateX,c.translateY,f,h),a(u.rotate,c.rotate,f,h),o(u.skewX,c.skewX,f,h),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,h),u=c=null,function(d){for(var m=-1,g=h.length,w;++m<g;)f[(w=h[m]).i]=w.x(d);return f.join("")}}}var Tc=Ws(wc,"px, ","px)","deg)"),Mc=Ws(bc,", ",")",")"),st=0,St=0,vt=0,Xs=1e3,_n,Ct,wn=0,je=0,In=0,Ft=typeof performance=="object"&&performance.now?performance:Date,Bs=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Vr(){return je||(Bs(Sc),je=Ft.now()+In)}function Sc(){je=0}function bn(){this._call=this._time=this._next=null}bn.prototype=Qs.prototype={constructor:bn,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Vr():+n)+(t==null?0:+t),!this._next&&Ct!==this&&(Ct?Ct._next=this:_n=this,Ct=this),this._call=e,this._time=n,yr()},stop:function(){this._call&&(this._call=null,this._time=1/0,yr())}};function Qs(e,t,n){var r=new bn;return r.restart(e,t,n),r}function Cc(){Vr(),++st;for(var e=_n,t;e;)(t=je-e._time)>=0&&e._call.call(void 0,t),e=e._next;--st}function Ai(){je=(wn=Ft.now())+In,st=St=0;try{Cc()}finally{st=0,Ac(),je=0}}function kc(){var e=Ft.now(),t=e-wn;t>Xs&&(In-=t,wn=e)}function Ac(){for(var e,t=_n,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:_n=n);Ct=e,yr(r)}function yr(e){if(!st){St&&(St=clearTimeout(St));var t=e-je;t>24?(e<1/0&&(St=setTimeout(Ai,e-Ft.now()-In)),vt&&(vt=clearInterval(vt))):(vt||(wn=Ft.now(),vt=setInterval(kc,Xs)),st=1,Bs(Ai))}}function Ni(e,t,n){var r=new bn;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var Nc=Ns("start","end","cancel","interrupt"),Dc=[],Gs=0,Di=1,vr=2,ln=3,Ri=4,xr=5,cn=6;function Un(e,t,n,r,i,s){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;Rc(e,n,{name:t,index:r,group:i,on:Nc,tween:Dc,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Gs})}function zr(e,t){var n=pe(e,t);if(n.state>Gs)throw new Error("too late; already scheduled");return n}function _e(e,t){var n=pe(e,t);if(n.state>ln)throw new Error("too late; already running");return n}function pe(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Rc(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=Qs(s,0,n.time);function s(u){n.state=Di,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var c,f,h,d;if(n.state!==Di)return l();for(c in r)if(d=r[c],d.name===n.name){if(d.state===ln)return Ni(a);d.state===Ri?(d.state=cn,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete r[c]):+c<t&&(d.state=cn,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete r[c])}if(Ni(function(){n.state===ln&&(n.state=Ri,n.timer.restart(o,n.delay,n.time),o(u))}),n.state=vr,n.on.call("start",e,e.__data__,n.index,n.group),n.state===vr){for(n.state=ln,i=new Array(h=n.tween.length),c=0,f=-1;c<h;++c)(d=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=d);i.length=f+1}}function o(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=xr,1),f=-1,h=i.length;++f<h;)i[f].call(e,c);n.state===xr&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=cn,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function Pc(e,t){var n=e.__transition,r,i,s=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){s=!1;continue}i=r.state>vr&&r.state<xr,r.state=cn,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}s&&delete e.__transition}}function Ec(e){return this.each(function(){Pc(this,e)})}function $c(e,t){var n,r;return function(){var i=_e(this,e),s=i.tween;if(s!==n){r=n=s;for(var a=0,o=r.length;a<o;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function Fc(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=_e(this,e),a=s.tween;if(a!==r){i=(r=a).slice();for(var o={name:t,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=o;break}l===u&&i.push(o)}s.tween=i}}function Ic(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=pe(this.node(),n).tween,i=0,s=r.length,a;i<s;++i)if((a=r[i]).name===e)return a.value;return null}return this.each((t==null?$c:Fc)(n,e,t))}function Yr(e,t,n){var r=e._id;return e.each(function(){var i=_e(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return pe(i,r).value[t]}}function Zs(e,t){var n;return(typeof t=="number"?ue:t instanceof Oe?xn:(n=Oe(t))?(t=n,xn):Ys)(e,t)}function Uc(e){return function(){this.removeAttribute(e)}}function Oc(e){return function(){this.removeAttributeNS(e.space,e.local)}}function jc(e,t,n){var r,i=n+"",s;return function(){var a=this.getAttribute(e);return a===i?null:a===r?s:s=t(r=a,n)}}function Lc(e,t,n){var r,i=n+"",s;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?s:s=t(r=a,n)}}function Hc(e,t,n){var r,i,s;return function(){var a,o=n(this),l;return o==null?void this.removeAttribute(e):(a=this.getAttribute(e),l=o+"",a===l?null:a===r&&l===i?s:(i=l,s=t(r=a,o)))}}function Vc(e,t,n){var r,i,s;return function(){var a,o=n(this),l;return o==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),l=o+"",a===l?null:a===r&&l===i?s:(i=l,s=t(r=a,o)))}}function zc(e,t){var n=Fn(e),r=n==="transform"?Mc:Zs;return this.attrTween(e,typeof t=="function"?(n.local?Vc:Hc)(n,r,Yr(this,"attr."+e,t)):t==null?(n.local?Oc:Uc)(n):(n.local?Lc:jc)(n,r,t))}function Yc(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function qc(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Wc(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&qc(e,s)),n}return i._value=t,i}function Xc(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&Yc(e,s)),n}return i._value=t,i}function Bc(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Fn(e);return this.tween(n,(r.local?Wc:Xc)(r,t))}function Qc(e,t){return function(){zr(this,e).delay=+t.apply(this,arguments)}}function Gc(e,t){return t=+t,function(){zr(this,e).delay=t}}function Zc(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Qc:Gc)(t,e)):pe(this.node(),t).delay}function Kc(e,t){return function(){_e(this,e).duration=+t.apply(this,arguments)}}function Jc(e,t){return t=+t,function(){_e(this,e).duration=t}}function ef(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Kc:Jc)(t,e)):pe(this.node(),t).duration}function tf(e,t){if(typeof t!="function")throw new Error;return function(){_e(this,e).ease=t}}function nf(e){var t=this._id;return arguments.length?this.each(tf(t,e)):pe(this.node(),t).ease}function rf(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;_e(this,e).ease=n}}function sf(e){if(typeof e!="function")throw new Error;return this.each(rf(this._id,e))}function af(e){typeof e!="function"&&(e=Ps(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],a=s.length,o=r[i]=[],l,u=0;u<a;++u)(l=s[u])&&e.call(l,l.__data__,u,s)&&o.push(l);return new Se(r,this._parents,this._name,this._id)}function of(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,s=Math.min(r,i),a=new Array(r),o=0;o<s;++o)for(var l=t[o],u=n[o],c=l.length,f=a[o]=new Array(c),h,d=0;d<c;++d)(h=l[d]||u[d])&&(f[d]=h);for(;o<r;++o)a[o]=t[o];return new Se(a,this._parents,this._name,this._id)}function uf(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function lf(e,t,n){var r,i,s=uf(t)?zr:_e;return function(){var a=s(this,e),o=a.on;o!==r&&(i=(r=o).copy()).on(t,n),a.on=i}}function cf(e,t){var n=this._id;return arguments.length<2?pe(this.node(),n).on.on(e):this.each(lf(n,e,t))}function ff(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function hf(){return this.on("end.remove",ff(this._id))}function df(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Ur(e));for(var r=this._groups,i=r.length,s=new Array(i),a=0;a<i;++a)for(var o=r[a],l=o.length,u=s[a]=new Array(l),c,f,h=0;h<l;++h)(c=o[h])&&(f=e.call(c,c.__data__,h,o))&&("__data__"in c&&(f.__data__=c.__data__),u[h]=f,Un(u[h],t,n,h,u,pe(c,n)));return new Se(s,this._parents,t,n)}function mf(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Rs(e));for(var r=this._groups,i=r.length,s=[],a=[],o=0;o<i;++o)for(var l=r[o],u=l.length,c,f=0;f<u;++f)if(c=l[f]){for(var h=e.call(c,c.__data__,f,l),d,m=pe(c,n),g=0,w=h.length;g<w;++g)(d=h[g])&&Un(d,t,n,g,h,m);s.push(h),a.push(c)}return new Se(s,a,t,n)}var pf=Wt.prototype.constructor;function gf(){return new pf(this._groups,this._parents)}function yf(e,t){var n,r,i;return function(){var s=it(this,e),a=(this.style.removeProperty(e),it(this,e));return s===a?null:s===n&&a===r?i:i=t(n=s,r=a)}}function Ks(e){return function(){this.style.removeProperty(e)}}function vf(e,t,n){var r,i=n+"",s;return function(){var a=it(this,e);return a===i?null:a===r?s:s=t(r=a,n)}}function xf(e,t,n){var r,i,s;return function(){var a=it(this,e),o=n(this),l=o+"";return o==null&&(l=o=(this.style.removeProperty(e),it(this,e))),a===l?null:a===r&&l===i?s:(i=l,s=t(r=a,o))}}function _f(e,t){var n,r,i,s="style."+t,a="end."+s,o;return function(){var l=_e(this,e),u=l.on,c=l.value[s]==null?o||(o=Ks(t)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(a,i=c),l.on=r}}function wf(e,t,n){var r=(e+="")=="transform"?Tc:Zs;return t==null?this.styleTween(e,yf(e,r)).on("end.style."+e,Ks(e)):typeof t=="function"?this.styleTween(e,xf(e,r,Yr(this,"style."+e,t))).each(_f(this._id,e)):this.styleTween(e,vf(e,r,t),n).on("end.style."+e,null)}function bf(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Tf(e,t,n){var r,i;function s(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&bf(e,a,n)),r}return s._value=t,s}function Mf(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Tf(e,t,n??""))}function Sf(e){return function(){this.textContent=e}}function Cf(e){return function(){var t=e(this);this.textContent=t??""}}function kf(e){return this.tween("text",typeof e=="function"?Cf(Yr(this,"text",e)):Sf(e==null?"":e+""))}function Af(e){return function(t){this.textContent=e.call(this,t)}}function Nf(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&Af(i)),t}return r._value=e,r}function Df(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Nf(e))}function Rf(){for(var e=this._name,t=this._id,n=Js(),r=this._groups,i=r.length,s=0;s<i;++s)for(var a=r[s],o=a.length,l,u=0;u<o;++u)if(l=a[u]){var c=pe(l,t);Un(l,e,n,u,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Se(r,this._parents,e,n)}function Pf(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(s,a){var o={value:a},l={value:function(){--i===0&&s()}};n.each(function(){var u=_e(this,r),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(o),t._.interrupt.push(o),t._.end.push(l)),u.on=t}),i===0&&s()})}var Ef=0;function Se(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Js(){return++Ef}var we=Wt.prototype;Se.prototype={constructor:Se,select:df,selectAll:mf,selectChild:we.selectChild,selectChildren:we.selectChildren,filter:af,merge:of,selection:gf,transition:Rf,call:we.call,nodes:we.nodes,node:we.node,size:we.size,empty:we.empty,each:we.each,on:cf,attr:zc,attrTween:Bc,style:wf,styleTween:Mf,text:kf,textTween:Df,remove:hf,tween:Ic,delay:Zc,duration:ef,ease:nf,easeVarying:sf,end:Pf,[Symbol.iterator]:we[Symbol.iterator]};function $f(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Ff={time:null,delay:0,duration:250,ease:$f};function If(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Uf(e){var t,n;e instanceof Se?(t=e._id,e=e._name):(t=Js(),(n=Ff).time=Vr(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var a=r[s],o=a.length,l,u=0;u<o;++u)(l=a[u])&&Un(l,e,t,u,a,n||If(l,t));return new Se(r,this._parents,e,t)}Wt.prototype.interrupt=Ec;Wt.prototype.transition=Uf;const _r=Math.PI,wr=2*_r,$e=1e-6,Of=wr-$e;function ea(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function jf(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return ea;const n=10**t;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Lf{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?ea:jf(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,s,a){this._append`C${+t},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(t,n,r,i,s){if(t=+t,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=r-t,u=i-n,c=a-t,f=o-n,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>$e)if(!(Math.abs(f*l-u*c)>$e)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let d=r-a,m=i-o,g=l*l+u*u,w=d*d+m*m,y=Math.sqrt(g),b=Math.sqrt(h),v=s*Math.tan((_r-Math.acos((g+h-w)/(2*y*b)))/2),T=v/b,k=v/y;Math.abs(T-1)>$e&&this._append`L${t+T*c},${n+T*f}`,this._append`A${s},${s},0,0,${+(f*d>c*m)},${this._x1=t+k*l},${this._y1=n+k*u}`}}arc(t,n,r,i,s,a){if(t=+t,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),u=t+o,c=n+l,f=1^a,h=a?i-s:s-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>$e||Math.abs(this._y1-c)>$e)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%wr+wr),h>Of?this._append`A${r},${r},0,1,${f},${t-o},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:h>$e&&this._append`A${r},${r},0,${+(h>=_r)},${f},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Hf(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Tn(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function at(e){return e=Tn(Math.abs(e)),e?e[1]:NaN}function Vf(e,t){return function(n,r){for(var i=n.length,s=[],a=0,o=e[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),s.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=e[a=(a+1)%e.length];return s.reverse().join(t)}}function zf(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Yf=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Mn(e){if(!(t=Yf.exec(e)))throw new Error("invalid format: "+e);var t;return new qr({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Mn.prototype=qr.prototype;function qr(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}qr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function qf(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var ta;function Wf(e,t){var n=Tn(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(ta=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Tn(e,Math.max(0,t+s-1))[0]}function Pi(e,t){var n=Tn(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Ei={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Hf,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Pi(e*100,t),r:Pi,s:Wf,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function $i(e){return e}var Fi=Array.prototype.map,Ii=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Xf(e){var t=e.grouping===void 0||e.thousands===void 0?$i:Vf(Fi.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?$i:zf(Fi.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Mn(f);var h=f.fill,d=f.align,m=f.sign,g=f.symbol,w=f.zero,y=f.width,b=f.comma,v=f.precision,T=f.trim,k=f.type;k==="n"?(b=!0,k="g"):Ei[k]||(v===void 0&&(v=12),T=!0,k="g"),(w||h==="0"&&d==="=")&&(w=!0,h="0",d="=");var M=g==="$"?n:g==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",R=g==="$"?r:/[%p]/.test(k)?a:"",L=Ei[k],j=/[defgprs%]/.test(k);v=v===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function H(N){var U=M,A=R,P,ne,ae;if(k==="c")A=L(N)+A,N="";else{N=+N;var Z=N<0||1/N<0;if(N=isNaN(N)?l:L(Math.abs(N),v),T&&(N=qf(N)),Z&&+N==0&&m!=="+"&&(Z=!1),U=(Z?m==="("?m:o:m==="-"||m==="("?"":m)+U,A=(k==="s"?Ii[8+ta/3]:"")+A+(Z&&m==="("?")":""),j){for(P=-1,ne=N.length;++P<ne;)if(ae=N.charCodeAt(P),48>ae||ae>57){A=(ae===46?i+N.slice(P+1):N.slice(P))+A,N=N.slice(0,P);break}}}b&&!w&&(N=t(N,1/0));var K=U.length+N.length+A.length,q=K<y?new Array(y-K+1).join(h):"";switch(b&&w&&(N=t(q+N,q.length?y-A.length:1/0),q=""),d){case"<":N=U+N+A+q;break;case"=":N=U+q+N+A;break;case"^":N=q.slice(0,K=q.length>>1)+U+N+A+q.slice(K);break;default:N=q+U+N+A;break}return s(N)}return H.toString=function(){return f+""},H}function c(f,h){var d=u((f=Mn(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(at(h)/3)))*3,g=Math.pow(10,-m),w=Ii[8+m/3];return function(y){return d(g*y)+w}}return{format:u,formatPrefix:c}}var nn,na,ra;Bf({thousands:",",grouping:[3],currency:["$",""]});function Bf(e){return nn=Xf(e),na=nn.format,ra=nn.formatPrefix,nn}function Qf(e){return Math.max(0,-at(Math.abs(e)))}function Gf(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(at(t)/3)))*3-at(Math.abs(e)))}function Zf(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,at(t)-at(e))+1}function ia(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Kf(e){return function(){return e}}function Jf(e){return+e}var Ui=[0,1];function Ze(e){return e}function br(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Kf(isNaN(t)?NaN:.5)}function eh(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function th(e,t,n){var r=e[0],i=e[1],s=t[0],a=t[1];return i<r?(r=br(i,r),s=n(a,s)):(r=br(r,i),s=n(s,a)),function(o){return s(r(o))}}function nh(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=br(e[a],e[a+1]),s[a]=n(t[a],t[a+1]);return function(o){var l=cu(e,o,1,r)-1;return s[l](i[l](o))}}function sa(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function rh(){var e=Ui,t=Ui,n=Hr,r,i,s,a=Ze,o,l,u;function c(){var h=Math.min(e.length,t.length);return a!==Ze&&(a=eh(e[0],e[h-1])),o=h>2?nh:th,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(l||(l=o(e.map(r),t,n)))(r(a(h)))}return f.invert=function(h){return a(i((u||(u=o(t,e.map(r),ue)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Jf),c()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),c()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),n=_c,c()},f.clamp=function(h){return arguments.length?(a=h?!0:Ze,c()):a!==Ze},f.interpolate=function(h){return arguments.length?(n=h,c()):n},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,d){return r=h,i=d,c()}}function aa(){return rh()(Ze,Ze)}function ih(e,t,n,r){var i=hr(e,t,n),s;switch(r=Mn(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=Gf(i,a))&&(r.precision=s),ra(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Zf(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Qf(i))&&(r.precision=s-(r.type==="%")*2);break}}return na(r)}function sh(e){var t=e.domain;return e.ticks=function(n){var r=t();return mu(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return ih(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,a=r[i],o=r[s],l,u,c=10;for(o<a&&(u=a,a=o,o=u,u=i,i=s,s=u);c-- >0;){if(u=fr(a,o,n),u===l)return r[i]=a,r[s]=o,t(r);if(u>0)a=Math.floor(a/u)*u,o=Math.ceil(o/u)*u;else if(u<0)a=Math.ceil(a*u)/u,o=Math.floor(o*u)/u;else break;l=u}return e},e}function oa(){var e=aa();return e.copy=function(){return sa(e,oa())},ia.apply(e,arguments),sh(e)}function ah(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],s=e[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),e[n]=t.floor(i),e[r]=t.ceil(s),e}const Kn=new Date,Jn=new Date;function z(e,t,n,r){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(t(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const l=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return l;let u;do l.push(u=new Date(+s)),t(s,o),e(s);while(u<s&&s<a);return l},i.filter=s=>z(a=>{if(a>=a)for(;e(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;t(a,-1),!s(a););else for(;--o>=0;)for(;t(a,1),!s(a););}),n&&(i.count=(s,a)=>(Kn.setTime(+s),Jn.setTime(+a),e(Kn),e(Jn),Math.floor(n(Kn,Jn))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const Sn=z(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Sn.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?z(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Sn);Sn.range;const Te=1e3,se=Te*60,Me=se*60,Ce=Me*24,Wr=Ce*7,Oi=Ce*30,er=Ce*365,Ke=z(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Te)},(e,t)=>(t-e)/Te,e=>e.getUTCSeconds());Ke.range;const Xr=z(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Te)},(e,t)=>{e.setTime(+e+t*se)},(e,t)=>(t-e)/se,e=>e.getMinutes());Xr.range;const oh=z(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*se)},(e,t)=>(t-e)/se,e=>e.getUTCMinutes());oh.range;const Br=z(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Te-e.getMinutes()*se)},(e,t)=>{e.setTime(+e+t*Me)},(e,t)=>(t-e)/Me,e=>e.getHours());Br.range;const uh=z(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Me)},(e,t)=>(t-e)/Me,e=>e.getUTCHours());uh.range;const Bt=z(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*se)/Ce,e=>e.getDate()-1);Bt.range;const Qr=z(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ce,e=>e.getUTCDate()-1);Qr.range;const lh=z(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ce,e=>Math.floor(e/Ce));lh.range;function Ve(e){return z(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*se)/Wr)}const On=Ve(0),Cn=Ve(1),ch=Ve(2),fh=Ve(3),ot=Ve(4),hh=Ve(5),dh=Ve(6);On.range;Cn.range;ch.range;fh.range;ot.range;hh.range;dh.range;function ze(e){return z(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Wr)}const ua=ze(0),kn=ze(1),mh=ze(2),ph=ze(3),ut=ze(4),gh=ze(5),yh=ze(6);ua.range;kn.range;mh.range;ph.range;ut.range;gh.range;yh.range;const Gr=z(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Gr.range;const vh=z(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());vh.range;const ke=z(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ke.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:z(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});ke.range;const Le=z(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Le.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:z(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Le.range;function xh(e,t,n,r,i,s){const a=[[Ke,1,Te],[Ke,5,5*Te],[Ke,15,15*Te],[Ke,30,30*Te],[s,1,se],[s,5,5*se],[s,15,15*se],[s,30,30*se],[i,1,Me],[i,3,3*Me],[i,6,6*Me],[i,12,12*Me],[r,1,Ce],[r,2,2*Ce],[n,1,Wr],[t,1,Oi],[t,3,3*Oi],[e,1,er]];function o(u,c,f){const h=c<u;h&&([u,c]=[c,u]);const d=f&&typeof f.range=="function"?f:l(u,c,f),m=d?d.range(u,+c+1):[];return h?m.reverse():m}function l(u,c,f){const h=Math.abs(c-u)/f,d=Ir(([,,w])=>w).right(a,h);if(d===a.length)return e.every(hr(u/er,c/er,f));if(d===0)return Sn.every(Math.max(hr(u,c,f),1));const[m,g]=a[h/a[d-1][2]<a[d][2]/h?d-1:d];return m.every(g)}return[o,l]}const[_h,wh]=xh(ke,Gr,On,Bt,Br,Xr);function tr(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function nr(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function xt(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function bh(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,s=e.days,a=e.shortDays,o=e.months,l=e.shortMonths,u=_t(i),c=wt(i),f=_t(s),h=wt(s),d=_t(a),m=wt(a),g=_t(o),w=wt(o),y=_t(l),b=wt(l),v={a:Z,A:K,b:q,B:Ye,c:null,d:Yi,e:Yi,f:qh,g:td,G:rd,H:Vh,I:zh,j:Yh,L:la,m:Wh,M:Xh,p:qe,q:We,Q:Xi,s:Bi,S:Bh,u:Qh,U:Gh,V:Zh,w:Kh,W:Jh,x:null,X:null,y:ed,Y:nd,Z:id,"%":Wi},T={a:dt,A:mt,b:oe,B:pt,c:null,d:qi,e:qi,f:ud,g:vd,G:_d,H:sd,I:ad,j:od,L:fa,m:ld,M:cd,p:gt,q:yt,Q:Xi,s:Bi,S:fd,u:hd,U:dd,V:md,w:pd,W:gd,x:null,X:null,y:yd,Y:xd,Z:wd,"%":Wi},k={a:H,A:N,b:U,B:A,c:P,d:Vi,e:Vi,f:Oh,g:Hi,G:Li,H:zi,I:zi,j:$h,L:Uh,m:Eh,M:Fh,p:j,q:Ph,Q:Lh,s:Hh,S:Ih,u:kh,U:Ah,V:Nh,w:Ch,W:Dh,x:ne,X:ae,y:Hi,Y:Li,Z:Rh,"%":jh};v.x=M(n,v),v.X=M(r,v),v.c=M(t,v),T.x=M(n,T),T.X=M(r,T),T.c=M(t,T);function M(S,E){return function($){var x=[],X=-1,O=0,J=S.length,ee,Pe,di;for($ instanceof Date||($=new Date(+$));++X<J;)S.charCodeAt(X)===37&&(x.push(S.slice(O,X)),(Pe=ji[ee=S.charAt(++X)])!=null?ee=S.charAt(++X):Pe=ee==="e"?" ":"0",(di=E[ee])&&(ee=di($,Pe)),x.push(ee),O=X+1);return x.push(S.slice(O,X)),x.join("")}}function R(S,E){return function($){var x=xt(1900,void 0,1),X=L(x,S,$+="",0),O,J;if(X!=$.length)return null;if("Q"in x)return new Date(x.Q);if("s"in x)return new Date(x.s*1e3+("L"in x?x.L:0));if(E&&!("Z"in x)&&(x.Z=0),"p"in x&&(x.H=x.H%12+x.p*12),x.m===void 0&&(x.m="q"in x?x.q:0),"V"in x){if(x.V<1||x.V>53)return null;"w"in x||(x.w=1),"Z"in x?(O=nr(xt(x.y,0,1)),J=O.getUTCDay(),O=J>4||J===0?kn.ceil(O):kn(O),O=Qr.offset(O,(x.V-1)*7),x.y=O.getUTCFullYear(),x.m=O.getUTCMonth(),x.d=O.getUTCDate()+(x.w+6)%7):(O=tr(xt(x.y,0,1)),J=O.getDay(),O=J>4||J===0?Cn.ceil(O):Cn(O),O=Bt.offset(O,(x.V-1)*7),x.y=O.getFullYear(),x.m=O.getMonth(),x.d=O.getDate()+(x.w+6)%7)}else("W"in x||"U"in x)&&("w"in x||(x.w="u"in x?x.u%7:"W"in x?1:0),J="Z"in x?nr(xt(x.y,0,1)).getUTCDay():tr(xt(x.y,0,1)).getDay(),x.m=0,x.d="W"in x?(x.w+6)%7+x.W*7-(J+5)%7:x.w+x.U*7-(J+6)%7);return"Z"in x?(x.H+=x.Z/100|0,x.M+=x.Z%100,nr(x)):tr(x)}}function L(S,E,$,x){for(var X=0,O=E.length,J=$.length,ee,Pe;X<O;){if(x>=J)return-1;if(ee=E.charCodeAt(X++),ee===37){if(ee=E.charAt(X++),Pe=k[ee in ji?E.charAt(X++):ee],!Pe||(x=Pe(S,$,x))<0)return-1}else if(ee!=$.charCodeAt(x++))return-1}return x}function j(S,E,$){var x=u.exec(E.slice($));return x?(S.p=c.get(x[0].toLowerCase()),$+x[0].length):-1}function H(S,E,$){var x=d.exec(E.slice($));return x?(S.w=m.get(x[0].toLowerCase()),$+x[0].length):-1}function N(S,E,$){var x=f.exec(E.slice($));return x?(S.w=h.get(x[0].toLowerCase()),$+x[0].length):-1}function U(S,E,$){var x=y.exec(E.slice($));return x?(S.m=b.get(x[0].toLowerCase()),$+x[0].length):-1}function A(S,E,$){var x=g.exec(E.slice($));return x?(S.m=w.get(x[0].toLowerCase()),$+x[0].length):-1}function P(S,E,$){return L(S,t,E,$)}function ne(S,E,$){return L(S,n,E,$)}function ae(S,E,$){return L(S,r,E,$)}function Z(S){return a[S.getDay()]}function K(S){return s[S.getDay()]}function q(S){return l[S.getMonth()]}function Ye(S){return o[S.getMonth()]}function qe(S){return i[+(S.getHours()>=12)]}function We(S){return 1+~~(S.getMonth()/3)}function dt(S){return a[S.getUTCDay()]}function mt(S){return s[S.getUTCDay()]}function oe(S){return l[S.getUTCMonth()]}function pt(S){return o[S.getUTCMonth()]}function gt(S){return i[+(S.getUTCHours()>=12)]}function yt(S){return 1+~~(S.getUTCMonth()/3)}return{format:function(S){var E=M(S+="",v);return E.toString=function(){return S},E},parse:function(S){var E=R(S+="",!1);return E.toString=function(){return S},E},utcFormat:function(S){var E=M(S+="",T);return E.toString=function(){return S},E},utcParse:function(S){var E=R(S+="",!0);return E.toString=function(){return S},E}}}var ji={"-":"",_:" ",0:"0"},Y=/^\s*\d+/,Th=/^%/,Mh=/[\\^$*+?|[\]().{}]/g;function I(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(t)+i:i)}function Sh(e){return e.replace(Mh,"\\$&")}function _t(e){return new RegExp("^(?:"+e.map(Sh).join("|")+")","i")}function wt(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Ch(e,t,n){var r=Y.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function kh(e,t,n){var r=Y.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Ah(e,t,n){var r=Y.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Nh(e,t,n){var r=Y.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Dh(e,t,n){var r=Y.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Li(e,t,n){var r=Y.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Hi(e,t,n){var r=Y.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Rh(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Ph(e,t,n){var r=Y.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Eh(e,t,n){var r=Y.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Vi(e,t,n){var r=Y.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function $h(e,t,n){var r=Y.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function zi(e,t,n){var r=Y.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Fh(e,t,n){var r=Y.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Ih(e,t,n){var r=Y.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Uh(e,t,n){var r=Y.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Oh(e,t,n){var r=Y.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function jh(e,t,n){var r=Th.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Lh(e,t,n){var r=Y.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Hh(e,t,n){var r=Y.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Yi(e,t){return I(e.getDate(),t,2)}function Vh(e,t){return I(e.getHours(),t,2)}function zh(e,t){return I(e.getHours()%12||12,t,2)}function Yh(e,t){return I(1+Bt.count(ke(e),e),t,3)}function la(e,t){return I(e.getMilliseconds(),t,3)}function qh(e,t){return la(e,t)+"000"}function Wh(e,t){return I(e.getMonth()+1,t,2)}function Xh(e,t){return I(e.getMinutes(),t,2)}function Bh(e,t){return I(e.getSeconds(),t,2)}function Qh(e){var t=e.getDay();return t===0?7:t}function Gh(e,t){return I(On.count(ke(e)-1,e),t,2)}function ca(e){var t=e.getDay();return t>=4||t===0?ot(e):ot.ceil(e)}function Zh(e,t){return e=ca(e),I(ot.count(ke(e),e)+(ke(e).getDay()===4),t,2)}function Kh(e){return e.getDay()}function Jh(e,t){return I(Cn.count(ke(e)-1,e),t,2)}function ed(e,t){return I(e.getFullYear()%100,t,2)}function td(e,t){return e=ca(e),I(e.getFullYear()%100,t,2)}function nd(e,t){return I(e.getFullYear()%1e4,t,4)}function rd(e,t){var n=e.getDay();return e=n>=4||n===0?ot(e):ot.ceil(e),I(e.getFullYear()%1e4,t,4)}function id(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+I(t/60|0,"0",2)+I(t%60,"0",2)}function qi(e,t){return I(e.getUTCDate(),t,2)}function sd(e,t){return I(e.getUTCHours(),t,2)}function ad(e,t){return I(e.getUTCHours()%12||12,t,2)}function od(e,t){return I(1+Qr.count(Le(e),e),t,3)}function fa(e,t){return I(e.getUTCMilliseconds(),t,3)}function ud(e,t){return fa(e,t)+"000"}function ld(e,t){return I(e.getUTCMonth()+1,t,2)}function cd(e,t){return I(e.getUTCMinutes(),t,2)}function fd(e,t){return I(e.getUTCSeconds(),t,2)}function hd(e){var t=e.getUTCDay();return t===0?7:t}function dd(e,t){return I(ua.count(Le(e)-1,e),t,2)}function ha(e){var t=e.getUTCDay();return t>=4||t===0?ut(e):ut.ceil(e)}function md(e,t){return e=ha(e),I(ut.count(Le(e),e)+(Le(e).getUTCDay()===4),t,2)}function pd(e){return e.getUTCDay()}function gd(e,t){return I(kn.count(Le(e)-1,e),t,2)}function yd(e,t){return I(e.getUTCFullYear()%100,t,2)}function vd(e,t){return e=ha(e),I(e.getUTCFullYear()%100,t,2)}function xd(e,t){return I(e.getUTCFullYear()%1e4,t,4)}function _d(e,t){var n=e.getUTCDay();return e=n>=4||n===0?ut(e):ut.ceil(e),I(e.getUTCFullYear()%1e4,t,4)}function wd(){return"+0000"}function Wi(){return"%"}function Xi(e){return+e}function Bi(e){return Math.floor(+e/1e3)}var Be,da;bd({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function bd(e){return Be=bh(e),da=Be.format,Be.parse,Be.utcFormat,Be.utcParse,Be}function Td(e){return new Date(e)}function Md(e){return e instanceof Date?+e:+new Date(+e)}function ma(e,t,n,r,i,s,a,o,l,u){var c=aa(),f=c.invert,h=c.domain,d=u(".%L"),m=u(":%S"),g=u("%I:%M"),w=u("%I %p"),y=u("%a %d"),b=u("%b %d"),v=u("%B"),T=u("%Y");function k(M){return(l(M)<M?d:o(M)<M?m:a(M)<M?g:s(M)<M?w:r(M)<M?i(M)<M?y:b:n(M)<M?v:T)(M)}return c.invert=function(M){return new Date(f(M))},c.domain=function(M){return arguments.length?h(Array.from(M,Md)):h().map(Td)},c.ticks=function(M){var R=h();return e(R[0],R[R.length-1],M??10)},c.tickFormat=function(M,R){return R==null?k:u(R)},c.nice=function(M){var R=h();return(!M||typeof M.range!="function")&&(M=t(R[0],R[R.length-1],M??10)),M?h(ah(R,M)):c},c.copy=function(){return sa(c,ma(e,t,n,r,i,s,a,o,l,u))},c}function Sd(){return ia.apply(ma(_h,wh,ke,Gr,On,Bt,Br,Xr,Ke,da).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function V(e){return function(){return e}}const Qi=Math.abs,W=Math.atan2,Ee=Math.cos,Cd=Math.max,rr=Math.min,ge=Math.sin,Je=Math.sqrt,B=1e-12,It=Math.PI,An=It/2,fn=2*It;function kd(e){return e>1?0:e<-1?It:Math.acos(e)}function Gi(e){return e>=1?An:e<=-1?-An:Math.asin(e)}function pa(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Lf(t)}function Ad(e){return e.innerRadius}function Nd(e){return e.outerRadius}function Dd(e){return e.startAngle}function Rd(e){return e.endAngle}function Pd(e){return e&&e.padAngle}function Ed(e,t,n,r,i,s,a,o){var l=n-e,u=r-t,c=a-i,f=o-s,h=f*l-c*u;if(!(h*h<B))return h=(c*(t-s)-f*(e-i))/h,[e+h*l,t+h*u]}function rn(e,t,n,r,i,s,a){var o=e-n,l=t-r,u=(a?s:-s)/Je(o*o+l*l),c=u*l,f=-u*o,h=e+c,d=t+f,m=n+c,g=r+f,w=(h+m)/2,y=(d+g)/2,b=m-h,v=g-d,T=b*b+v*v,k=i-s,M=h*g-m*d,R=(v<0?-1:1)*Je(Cd(0,k*k*T-M*M)),L=(M*v-b*R)/T,j=(-M*b-v*R)/T,H=(M*v+b*R)/T,N=(-M*b+v*R)/T,U=L-w,A=j-y,P=H-w,ne=N-y;return U*U+A*A>P*P+ne*ne&&(L=H,j=N),{cx:L,cy:j,x01:-c,y01:-f,x11:L*(i/k-1),y11:j*(i/k-1)}}function Zi(){var e=Ad,t=Nd,n=V(0),r=null,i=Dd,s=Rd,a=Pd,o=null,l=pa(u);function u(){var c,f,h=+e.apply(this,arguments),d=+t.apply(this,arguments),m=i.apply(this,arguments)-An,g=s.apply(this,arguments)-An,w=Qi(g-m),y=g>m;if(o||(o=c=l()),d<h&&(f=d,d=h,h=f),!(d>B))o.moveTo(0,0);else if(w>fn-B)o.moveTo(d*Ee(m),d*ge(m)),o.arc(0,0,d,m,g,!y),h>B&&(o.moveTo(h*Ee(g),h*ge(g)),o.arc(0,0,h,g,m,y));else{var b=m,v=g,T=m,k=g,M=w,R=w,L=a.apply(this,arguments)/2,j=L>B&&(r?+r.apply(this,arguments):Je(h*h+d*d)),H=rr(Qi(d-h)/2,+n.apply(this,arguments)),N=H,U=H,A,P;if(j>B){var ne=Gi(j/h*ge(L)),ae=Gi(j/d*ge(L));(M-=ne*2)>B?(ne*=y?1:-1,T+=ne,k-=ne):(M=0,T=k=(m+g)/2),(R-=ae*2)>B?(ae*=y?1:-1,b+=ae,v-=ae):(R=0,b=v=(m+g)/2)}var Z=d*Ee(b),K=d*ge(b),q=h*Ee(k),Ye=h*ge(k);if(H>B){var qe=d*Ee(v),We=d*ge(v),dt=h*Ee(T),mt=h*ge(T),oe;if(w<It)if(oe=Ed(Z,K,dt,mt,qe,We,q,Ye)){var pt=Z-oe[0],gt=K-oe[1],yt=qe-oe[0],S=We-oe[1],E=1/ge(kd((pt*yt+gt*S)/(Je(pt*pt+gt*gt)*Je(yt*yt+S*S)))/2),$=Je(oe[0]*oe[0]+oe[1]*oe[1]);N=rr(H,(h-$)/(E-1)),U=rr(H,(d-$)/(E+1))}else N=U=0}R>B?U>B?(A=rn(dt,mt,Z,K,d,U,y),P=rn(qe,We,q,Ye,d,U,y),o.moveTo(A.cx+A.x01,A.cy+A.y01),U<H?o.arc(A.cx,A.cy,U,W(A.y01,A.x01),W(P.y01,P.x01),!y):(o.arc(A.cx,A.cy,U,W(A.y01,A.x01),W(A.y11,A.x11),!y),o.arc(0,0,d,W(A.cy+A.y11,A.cx+A.x11),W(P.cy+P.y11,P.cx+P.x11),!y),o.arc(P.cx,P.cy,U,W(P.y11,P.x11),W(P.y01,P.x01),!y))):(o.moveTo(Z,K),o.arc(0,0,d,b,v,!y)):o.moveTo(Z,K),!(h>B)||!(M>B)?o.lineTo(q,Ye):N>B?(A=rn(q,Ye,qe,We,h,-N,y),P=rn(Z,K,dt,mt,h,-N,y),o.lineTo(A.cx+A.x01,A.cy+A.y01),N<H?o.arc(A.cx,A.cy,N,W(A.y01,A.x01),W(P.y01,P.x01),!y):(o.arc(A.cx,A.cy,N,W(A.y01,A.x01),W(A.y11,A.x11),!y),o.arc(0,0,h,W(A.cy+A.y11,A.cx+A.x11),W(P.cy+P.y11,P.cx+P.x11),y),o.arc(P.cx,P.cy,N,W(P.y11,P.x11),W(P.y01,P.x01),!y))):o.arc(0,0,h,k,T,y)}if(o.closePath(),c)return o=null,c+""||null}return u.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,f=(+i.apply(this,arguments)+ +s.apply(this,arguments))/2-It/2;return[Ee(f)*c,ge(f)*c]},u.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:V(+c),u):e},u.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:V(+c),u):t},u.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:V(+c),u):n},u.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:V(+c),u):r},u.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:V(+c),u):i},u.endAngle=function(c){return arguments.length?(s=typeof c=="function"?c:V(+c),u):s},u.padAngle=function(c){return arguments.length?(a=typeof c=="function"?c:V(+c),u):a},u.context=function(c){return arguments.length?(o=c??null,u):o},u}function ga(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ya(e){this._context=e}ya.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function $d(e){return new ya(e)}function Fd(e){return e[0]}function Id(e){return e[1]}function Ud(e,t){var n=V(!0),r=null,i=$d,s=null,a=pa(o);e=typeof e=="function"?e:e===void 0?Fd:V(e),t=typeof t=="function"?t:t===void 0?Id:V(t);function o(l){var u,c=(l=ga(l)).length,f,h=!1,d;for(r==null&&(s=i(d=a())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,u,l),+t(f,u,l));if(d)return s=null,d+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:V(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:V(+l),o):t},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:V(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),o):r},o}function Od(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function jd(e){return e}function Ld(){var e=jd,t=Od,n=null,r=V(0),i=V(fn),s=V(0);function a(o){var l,u=(o=ga(o)).length,c,f,h=0,d=new Array(u),m=new Array(u),g=+r.apply(this,arguments),w=Math.min(fn,Math.max(-fn,i.apply(this,arguments)-g)),y,b=Math.min(Math.abs(w)/u,s.apply(this,arguments)),v=b*(w<0?-1:1),T;for(l=0;l<u;++l)(T=m[d[l]=l]=+e(o[l],l,o))>0&&(h+=T);for(t!=null?d.sort(function(k,M){return t(m[k],m[M])}):n!=null&&d.sort(function(k,M){return n(o[k],o[M])}),l=0,f=h?(w-u*v)/h:0;l<u;++l,g=y)c=d[l],T=m[c],y=g+(T>0?T*f:0)+v,m[c]={data:o[c],index:l,value:T,startAngle:g,endAngle:y,padAngle:b};return m}return a.value=function(o){return arguments.length?(e=typeof o=="function"?o:V(+o),a):e},a.sortValues=function(o){return arguments.length?(t=o,n=null,a):t},a.sort=function(o){return arguments.length?(n=o,t=null,a):n},a.startAngle=function(o){return arguments.length?(r=typeof o=="function"?o:V(+o),a):r},a.endAngle=function(o){return arguments.length?(i=typeof o=="function"?o:V(+o),a):i},a.padAngle=function(o){return arguments.length?(s=typeof o=="function"?o:V(+o),a):s},a}function va(e,t){this._context=e,this._t=t}va.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Hd(e){return new va(e,.5)}function kt(e,t,n){this.k=e,this.x=t,this.y=n}kt.prototype={constructor:kt,scale:function(e){return e===1?this:new kt(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new kt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};kt.prototype;var Zr=Gt(),D=e=>Qt(e,Zr),Kr=Gt();D.write=e=>Qt(e,Kr);var jn=Gt();D.onStart=e=>Qt(e,jn);var Jr=Gt();D.onFrame=e=>Qt(e,Jr);var ei=Gt();D.onFinish=e=>Qt(e,ei);var tt=[];D.setTimeout=(e,t)=>{const n=D.now()+t,r=()=>{const s=tt.findIndex(a=>a.cancel==r);~s&&tt.splice(s,1),De-=~s?1:0},i={time:n,handler:e,cancel:r};return tt.splice(xa(n),0,i),De+=1,_a(),i};var xa=e=>~(~tt.findIndex(t=>t.time>e)||~tt.length);D.cancel=e=>{jn.delete(e),Jr.delete(e),ei.delete(e),Zr.delete(e),Kr.delete(e)};D.sync=e=>{Tr=!0,D.batchedUpdates(e),Tr=!1};D.throttle=e=>{let t;function n(){try{e(...t)}finally{t=null}}function r(...i){t=i,D.onStart(n)}return r.handler=e,r.cancel=()=>{jn.delete(n),t=null},r};var ti=typeof window<"u"?window.requestAnimationFrame:()=>{};D.use=e=>ti=e;D.now=typeof performance<"u"?()=>performance.now():Date.now;D.batchedUpdates=e=>e();D.catch=console.error;D.frameLoop="always";D.advance=()=>{D.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):ba()};var Ne=-1,De=0,Tr=!1;function Qt(e,t){Tr?(t.delete(e),e(0)):(t.add(e),_a())}function _a(){Ne<0&&(Ne=0,D.frameLoop!=="demand"&&ti(wa))}function Vd(){Ne=-1}function wa(){~Ne&&(ti(wa),D.batchedUpdates(ba))}function ba(){const e=Ne;Ne=D.now();const t=xa(Ne);if(t&&(Ta(tt.splice(0,t),n=>n.handler()),De-=t),!De){Vd();return}jn.flush(),Zr.flush(e?Math.min(64,Ne-e):16.667),Jr.flush(),Kr.flush(),ei.flush()}function Gt(){let e=new Set,t=e;return{add(n){De+=t==e&&!e.has(n)?1:0,e.add(n)},delete(n){return De-=t==e&&e.has(n)?1:0,e.delete(n)},flush(n){t.size&&(e=new Set,De-=t.size,Ta(t,r=>r(n)&&e.add(r)),De+=e.size,t=e)}}}function Ta(e,t){e.forEach(n=>{try{t(n)}catch(r){D.catch(r)}})}var zd=Object.defineProperty,Yd=(e,t)=>{for(var n in t)zd(e,n,{get:t[n],enumerable:!0})},me={};Yd(me,{assign:()=>Wd,colors:()=>Re,createStringInterpolator:()=>ri,skipAnimation:()=>Sa,to:()=>Ma,willAdvance:()=>ii});function Mr(){}var qd=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),_={arr:Array.isArray,obj:e=>!!e&&e.constructor.name==="Object",fun:e=>typeof e=="function",str:e=>typeof e=="string",num:e=>typeof e=="number",und:e=>e===void 0};function be(e,t){if(_.arr(e)){if(!_.arr(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var F=(e,t)=>e.forEach(t);function xe(e,t,n){if(_.arr(e)){for(let r=0;r<e.length;r++)t.call(n,e[r],`${r}`);return}for(const r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r)}var te=e=>_.und(e)?[]:_.arr(e)?e:[e];function Nt(e,t){if(e.size){const n=Array.from(e);e.clear(),F(n,t)}}var At=(e,...t)=>Nt(e,n=>n(...t)),ni=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),ri,Ma,Re=null,Sa=!1,ii=Mr,Wd=e=>{e.to&&(Ma=e.to),e.now&&(D.now=e.now),e.colors!==void 0&&(Re=e.colors),e.skipAnimation!=null&&(Sa=e.skipAnimation),e.createStringInterpolator&&(ri=e.createStringInterpolator),e.requestAnimationFrame&&D.use(e.requestAnimationFrame),e.batchedUpdates&&(D.batchedUpdates=e.batchedUpdates),e.willAdvance&&(ii=e.willAdvance),e.frameLoop&&(D.frameLoop=e.frameLoop)},Dt=new Set,ie=[],ir=[],Nn=0,Ln={get idle(){return!Dt.size&&!ie.length},start(e){Nn>e.priority?(Dt.add(e),D.onStart(Xd)):(Ca(e),D(Sr))},advance:Sr,sort(e){if(Nn)D.onFrame(()=>Ln.sort(e));else{const t=ie.indexOf(e);~t&&(ie.splice(t,1),ka(e))}},clear(){ie=[],Dt.clear()}};function Xd(){Dt.forEach(Ca),Dt.clear(),D(Sr)}function Ca(e){ie.includes(e)||ka(e)}function ka(e){ie.splice(Bd(ie,t=>t.priority>e.priority),0,e)}function Sr(e){const t=ir;for(let n=0;n<ie.length;n++){const r=ie[n];Nn=r.priority,r.idle||(ii(r),r.advance(e),r.idle||t.push(r))}return Nn=0,ir=ie,ir.length=0,ie=t,ie.length>0}function Bd(e,t){const n=e.findIndex(t);return n<0?e.length:n}var Qd={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},he="[-+]?\\d*\\.?\\d+",Dn=he+"%";function Hn(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var Gd=new RegExp("rgb"+Hn(he,he,he)),Zd=new RegExp("rgba"+Hn(he,he,he,he)),Kd=new RegExp("hsl"+Hn(he,Dn,Dn)),Jd=new RegExp("hsla"+Hn(he,Dn,Dn,he)),e0=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,t0=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,n0=/^#([0-9a-fA-F]{6})$/,r0=/^#([0-9a-fA-F]{8})$/;function i0(e){let t;return typeof e=="number"?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=n0.exec(e))?parseInt(t[1]+"ff",16)>>>0:Re&&Re[e]!==void 0?Re[e]:(t=Gd.exec(e))?(Qe(t[1])<<24|Qe(t[2])<<16|Qe(t[3])<<8|255)>>>0:(t=Zd.exec(e))?(Qe(t[1])<<24|Qe(t[2])<<16|Qe(t[3])<<8|es(t[4]))>>>0:(t=e0.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=r0.exec(e))?parseInt(t[1],16)>>>0:(t=t0.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=Kd.exec(e))?(Ki(Ji(t[1]),sn(t[2]),sn(t[3]))|255)>>>0:(t=Jd.exec(e))?(Ki(Ji(t[1]),sn(t[2]),sn(t[3]))|es(t[4]))>>>0:null}function sr(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Ki(e,t,n){const r=n<.5?n*(1+t):n+t-n*t,i=2*n-r,s=sr(i,r,e+1/3),a=sr(i,r,e),o=sr(i,r,e-1/3);return Math.round(s*255)<<24|Math.round(a*255)<<16|Math.round(o*255)<<8}function Qe(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function Ji(e){return(parseFloat(e)%360+360)%360/360}function es(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(t*255)}function sn(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function ts(e){let t=i0(e);if(t===null)return e;t=t||0;const n=(t&4278190080)>>>24,r=(t&16711680)>>>16,i=(t&65280)>>>8,s=(t&255)/255;return`rgba(${n}, ${r}, ${i}, ${s})`}var Ut=(e,t,n)=>{if(_.fun(e))return e;if(_.arr(e))return Ut({range:e,output:t,extrapolate:n});if(_.str(e.output[0]))return ri(e);const r=e,i=r.output,s=r.range||[0,1],a=r.extrapolateLeft||r.extrapolate||"extend",o=r.extrapolateRight||r.extrapolate||"extend",l=r.easing||(u=>u);return u=>{const c=a0(u,s);return s0(u,s[c],s[c+1],i[c],i[c+1],l,a,o,r.map)}};function s0(e,t,n,r,i,s,a,o,l){let u=l?l(e):e;if(u<t){if(a==="identity")return u;a==="clamp"&&(u=t)}if(u>n){if(o==="identity")return u;o==="clamp"&&(u=n)}return r===i?r:t===n?e<=t?r:i:(t===-1/0?u=-u:n===1/0?u=u-t:u=(u-t)/(n-t),u=s(u),r===-1/0?u=-u:i===1/0?u=u+r:u=u*(i-r)+r,u)}function a0(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}var o0={linear:e=>e},Ot=Symbol.for("FluidValue.get"),lt=Symbol.for("FluidValue.observers"),re=e=>!!(e&&e[Ot]),Q=e=>e&&e[Ot]?e[Ot]():e,ns=e=>e[lt]||null;function u0(e,t){e.eventObserved?e.eventObserved(t):e(t)}function jt(e,t){const n=e[lt];n&&n.forEach(r=>{u0(r,t)})}var Aa=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");l0(this,e)}},l0=(e,t)=>Na(e,Ot,t);function ht(e,t){if(e[Ot]){let n=e[lt];n||Na(e,lt,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function Lt(e,t){const n=e[lt];if(n&&n.has(t)){const r=n.size-1;r?n.delete(t):e[lt]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var Na=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),hn=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,c0=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,rs=new RegExp(`(${hn.source})(%|[a-z]+)`,"i"),f0=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Vn=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,Da=e=>{const[t,n]=h0(e);if(!t||ni())return e;const r=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(r)return r.trim();if(n&&n.startsWith("--")){const i=window.getComputedStyle(document.documentElement).getPropertyValue(n);return i||e}else{if(n&&Vn.test(n))return Da(n);if(n)return n}return e},h0=e=>{const t=Vn.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]},ar,d0=(e,t,n,r,i)=>`rgba(${Math.round(t)}, ${Math.round(n)}, ${Math.round(r)}, ${i})`,Ra=e=>{ar||(ar=Re?new RegExp(`(${Object.keys(Re).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map(s=>Q(s).replace(Vn,Da).replace(c0,ts).replace(ar,ts)),n=t.map(s=>s.match(hn).map(Number)),i=n[0].map((s,a)=>n.map(o=>{if(!(a in o))throw Error('The arity of each "output" value must be equal');return o[a]})).map(s=>Ut({...e,output:s}));return s=>{const a=!rs.test(t[0])&&t.find(l=>rs.test(l))?.replace(hn,"");let o=0;return t[0].replace(hn,()=>`${i[o++](s)}${a||""}`).replace(f0,d0)}},si="react-spring: ",Pa=e=>{const t=e;let n=!1;if(typeof t!="function")throw new TypeError(`${si}once requires a function parameter`);return(...r)=>{n||(t(...r),n=!0)}},m0=Pa(console.warn);function p0(){m0(`${si}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var g0=Pa(console.warn);function y0(){g0(`${si}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function zn(e){return _.str(e)&&(e[0]=="#"||/\d/.test(e)||!ni()&&Vn.test(e)||e in(Re||{}))}var ai=ni()?C.useEffect:C.useLayoutEffect,v0=()=>{const e=C.useRef(!1);return ai(()=>(e.current=!0,()=>{e.current=!1}),[]),e};function Ea(){const e=C.useState()[1],t=v0();return()=>{t.current&&e(Math.random())}}var $a=e=>C.useEffect(e,x0),x0=[];function is(e){const t=C.useRef(void 0);return C.useEffect(()=>{t.current=e}),t.current}var Ht=Symbol.for("Animated:node"),_0=e=>!!e&&e[Ht]===e,ye=e=>e&&e[Ht],oi=(e,t)=>qd(e,Ht,t),Yn=e=>e&&e[Ht]&&e[Ht].getPayload(),Fa=class{constructor(){oi(this,this)}getPayload(){return this.payload||[]}},qn=class Ia extends Fa{constructor(t){super(),this._value=t,this.done=!0,this.durationProgress=0,_.num(this._value)&&(this.lastPosition=this._value)}static create(t){return new Ia(t)}getPayload(){return[this]}getValue(){return this._value}setValue(t,n){return _.num(t)&&(this.lastPosition=t,n&&(t=Math.round(t/n)*n,this.done&&(this.lastPosition=t))),this._value===t?!1:(this._value=t,!0)}reset(){const{done:t}=this;this.done=!1,_.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,t&&(this.lastVelocity=null),this.v0=null)}},Rn=class Ua extends qn{constructor(t){super(0),this._string=null,this._toString=Ut({output:[t,t]})}static create(t){return new Ua(t)}getValue(){const t=this._string;return t??(this._string=this._toString(this._value))}setValue(t){if(_.str(t)){if(t==this._string)return!1;this._string=t,this._value=1}else if(super.setValue(t))this._string=null;else return!1;return!0}reset(t){t&&(this._toString=Ut({output:[this.getValue(),t]})),this._value=0,super.reset()}},Pn={dependencies:null},Wn=class extends Fa{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return xe(this.source,(n,r)=>{_0(n)?t[r]=n.getValue(e):re(n)?t[r]=Q(n):e||(t[r]=n)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&F(this.payload,e=>e.reset())}_makePayload(e){if(e){const t=new Set;return xe(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){Pn.dependencies&&re(e)&&Pn.dependencies.add(e);const t=Yn(e);t&&F(t,n=>this.add(n))}},w0=class Oa extends Wn{constructor(t){super(t)}static create(t){return new Oa(t)}getValue(){return this.source.map(t=>t.getValue())}setValue(t){const n=this.getPayload();return t.length==n.length?n.map((r,i)=>r.setValue(t[i])).some(Boolean):(super.setValue(t.map(b0)),!0)}};function b0(e){return(zn(e)?Rn:qn).create(e)}function Cr(e){const t=ye(e);return t?t.constructor:_.arr(e)?w0:zn(e)?Rn:qn}var ss=(e,t)=>{const n=!_.fun(e)||e.prototype&&e.prototype.isReactComponent;return C.forwardRef((r,i)=>{const s=C.useRef(null),a=n&&C.useCallback(m=>{s.current=S0(i,m)},[i]),[o,l]=M0(r,t),u=Ea(),c=()=>{const m=s.current;if(n&&!m)return;(m?t.applyAnimatedValues(m,o.getValue(!0)):!1)===!1&&u()},f=new T0(c,l),h=C.useRef(void 0);ai(()=>(h.current=f,F(l,m=>ht(m,f)),()=>{h.current&&(F(h.current.deps,m=>Lt(m,h.current)),D.cancel(h.current.update))})),C.useEffect(c,[]),$a(()=>()=>{const m=h.current;F(m.deps,g=>Lt(g,m))});const d=t.getComponentProps(o.getValue());return C.createElement(e,{...d,ref:a})})},T0=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){e.type=="change"&&D.write(this.update)}};function M0(e,t){const n=new Set;return Pn.dependencies=n,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)}),e=new Wn(e),Pn.dependencies=null,[e,n]}function S0(e,t){return e&&(_.fun(e)?e(t):e.current=t),t}var as=Symbol.for("AnimatedComponent"),C0=(e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:n=i=>new Wn(i),getComponentProps:r=i=>i}={})=>{const i={applyAnimatedValues:t,createAnimatedStyle:n,getComponentProps:r},s=a=>{const o=os(a)||"Anonymous";return _.str(a)?a=s[a]||(s[a]=ss(a,i)):a=a[as]||(a[as]=ss(a,i)),a.displayName=`Animated(${o})`,a};return xe(e,(a,o)=>{_.arr(e)&&(o=os(a)),s[o]=s(a)}),{animated:s}},os=e=>_.str(e)?e:e&&_.str(e.displayName)?e.displayName:_.fun(e)&&e.name||null;function Fe(e,...t){return _.fun(e)?e(...t):e}var Rt=(e,t)=>e===!0||!!(t&&e&&(_.fun(e)?e(t):te(e).includes(t))),ja=(e,t)=>_.obj(e)?t&&e[t]:e,La=(e,t)=>e.default===!0?e[t]:e.default?e.default[t]:void 0,k0=e=>e,ui=(e,t=k0)=>{let n=A0;e.default&&e.default!==!0&&(e=e.default,n=Object.keys(e));const r={};for(const i of n){const s=t(e[i],i);_.und(s)||(r[i]=s)}return r},A0=["config","onProps","onStart","onChange","onPause","onResume","onRest"],N0={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function D0(e){const t={};let n=0;if(xe(e,(r,i)=>{N0[i]||(t[i]=r,n++)}),n)return t}function Ha(e){const t=D0(e);if(t){const n={to:t};return xe(e,(r,i)=>i in t||(n[i]=r)),n}return{...e}}function Vt(e){return e=Q(e),_.arr(e)?e.map(Vt):zn(e)?me.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function R0(e){for(const t in e)return!0;return!1}function kr(e){return _.fun(e)||_.arr(e)&&_.obj(e[0])}function P0(e,t){e.ref?.delete(e),t?.delete(e)}function E0(e,t){t&&e.ref!==t&&(e.ref?.delete(e),t.add(e),e.ref=t)}var $0={default:{tension:170,friction:26}},Ar={...$0.default,mass:1,damping:1,easing:o0.linear,clamp:!1},F0=class{constructor(){this.velocity=0,Object.assign(this,Ar)}};function I0(e,t,n){n&&(n={...n},us(n,t),t={...n,...t}),us(e,t),Object.assign(e,t);for(const a in Ar)e[a]==null&&(e[a]=Ar[a]);let{frequency:r,damping:i}=e;const{mass:s}=e;return _.und(r)||(r<.01&&(r=.01),i<0&&(i=0),e.tension=Math.pow(2*Math.PI/r,2)*s,e.friction=4*Math.PI*i*s/r),e}function us(e,t){if(!_.und(t.decay))e.duration=void 0;else{const n=!_.und(t.tension)||!_.und(t.friction);(n||!_.und(t.frequency)||!_.und(t.damping)||!_.und(t.mass))&&(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}}var ls=[],U0=class{constructor(){this.changed=!1,this.values=ls,this.toValues=null,this.fromValues=ls,this.config=new F0,this.immediate=!1}};function Va(e,{key:t,props:n,defaultProps:r,state:i,actions:s}){return new Promise((a,o)=>{let l,u,c=Rt(n.cancel??r?.cancel,t);if(c)d();else{_.und(n.pause)||(i.paused=Rt(n.pause,t));let m=r?.pause;m!==!0&&(m=i.paused||Rt(m,t)),l=Fe(n.delay||0,t),m?(i.resumeQueue.add(h),s.pause()):(s.resume(),h())}function f(){i.resumeQueue.add(h),i.timeouts.delete(u),u.cancel(),l=u.time-D.now()}function h(){l>0&&!me.skipAnimation?(i.delayed=!0,u=D.setTimeout(d,l),i.pauseQueue.add(f),i.timeouts.add(u)):d()}function d(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(f),i.timeouts.delete(u),e<=(i.cancelId||0)&&(c=!0);try{s.start({...n,callId:e,cancel:c},a)}catch(m){o(m)}}})}var li=(e,t)=>t.length==1?t[0]:t.some(n=>n.cancelled)?nt(e.get()):t.every(n=>n.noop)?za(e.get()):le(e.get(),t.every(n=>n.finished)),za=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),le=(e,t,n=!1)=>({value:e,finished:t,cancelled:n}),nt=e=>({value:e,cancelled:!0,finished:!1});function Ya(e,t,n,r){const{callId:i,parentId:s,onRest:a}=t,{asyncTo:o,promise:l}=n;return!s&&e===o&&!t.reset?l:n.promise=(async()=>{n.asyncId=i,n.asyncTo=e;const u=ui(t,(w,y)=>y==="onRest"?void 0:w);let c,f;const h=new Promise((w,y)=>(c=w,f=y)),d=w=>{const y=i<=(n.cancelId||0)&&nt(r)||i!==n.asyncId&&le(r,!1);if(y)throw w.result=y,f(w),w},m=(w,y)=>{const b=new cs,v=new fs;return(async()=>{if(me.skipAnimation)throw zt(n),v.result=le(r,!1),f(v),v;d(b);const T=_.obj(w)?{...w}:{...y,to:w};T.parentId=i,xe(u,(M,R)=>{_.und(T[R])&&(T[R]=M)});const k=await r.start(T);return d(b),n.paused&&await new Promise(M=>{n.resumeQueue.add(M)}),k})()};let g;if(me.skipAnimation)return zt(n),le(r,!1);try{let w;_.arr(e)?w=(async y=>{for(const b of y)await m(b)})(e):w=Promise.resolve(e(m,r.stop.bind(r))),await Promise.all([w.then(c),h]),g=le(r.get(),!0,!1)}catch(w){if(w instanceof cs)g=w.result;else if(w instanceof fs)g=w.result;else throw w}finally{i==n.asyncId&&(n.asyncId=s,n.asyncTo=s?o:void 0,n.promise=s?l:void 0)}return _.fun(a)&&D.batchedUpdates(()=>{a(g,r,r.item)}),g})()}function zt(e,t){Nt(e.timeouts,n=>n.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var cs=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},fs=class extends Error{constructor(){super("SkipAnimationSignal")}},Nr=e=>e instanceof ci,O0=1,ci=class extends Aa{constructor(){super(...arguments),this.id=O0++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=ye(this);return e&&e.getValue()}to(...e){return me.to(this,e)}interpolate(...e){return p0(),me.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){jt(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||Ln.sort(this),jt(this,{type:"priority",parent:this,priority:e})}},He=Symbol.for("SpringPhase"),qa=1,Dr=2,Rr=4,or=e=>(e[He]&qa)>0,Ae=e=>(e[He]&Dr)>0,bt=e=>(e[He]&Rr)>0,hs=(e,t)=>t?e[He]|=Dr|qa:e[He]&=~Dr,ds=(e,t)=>t?e[He]|=Rr:e[He]&=~Rr,j0=class extends ci{constructor(e,t){if(super(),this.animation=new U0,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!_.und(e)||!_.und(t)){const n=_.obj(e)?{...e}:{...t,from:e};_.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(Ae(this)||this._state.asyncTo)||bt(this)}get goal(){return Q(this.animation.to)}get velocity(){const e=ye(this);return e instanceof qn?e.lastVelocity||0:e.getPayload().map(t=>t.lastVelocity||0)}get hasAnimated(){return or(this)}get isAnimating(){return Ae(this)}get isPaused(){return bt(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,n=!1;const r=this.animation;let{toValues:i}=r;const{config:s}=r,a=Yn(r.to);!a&&re(r.to)&&(i=te(Q(r.to))),r.values.forEach((u,c)=>{if(u.done)return;const f=u.constructor==Rn?1:a?a[c].lastPosition:i[c];let h=r.immediate,d=f;if(!h){if(d=u.lastPosition,s.tension<=0){u.done=!0;return}let m=u.elapsedTime+=e;const g=r.fromValues[c],w=u.v0!=null?u.v0:u.v0=_.arr(s.velocity)?s.velocity[c]:s.velocity;let y;const b=s.precision||(g==f?.005:Math.min(1,Math.abs(f-g)*.001));if(_.und(s.duration))if(s.decay){const v=s.decay===!0?.998:s.decay,T=Math.exp(-(1-v)*m);d=g+w/(1-v)*(1-T),h=Math.abs(u.lastPosition-d)<=b,y=w*T}else{y=u.lastVelocity==null?w:u.lastVelocity;const v=s.restVelocity||b/10,T=s.clamp?0:s.bounce,k=!_.und(T),M=g==f?u.v0>0:g<f;let R,L=!1;const j=1,H=Math.ceil(e/j);for(let N=0;N<H&&(R=Math.abs(y)>v,!(!R&&(h=Math.abs(f-d)<=b,h)));++N){k&&(L=d==f||d>f==M,L&&(y=-y*T,d=f));const U=-s.tension*1e-6*(d-f),A=-s.friction*.001*y,P=(U+A)/s.mass;y=y+P*j,d=d+y*j}}else{let v=1;s.duration>0&&(this._memoizedDuration!==s.duration&&(this._memoizedDuration=s.duration,u.durationProgress>0&&(u.elapsedTime=s.duration*u.durationProgress,m=u.elapsedTime+=e)),v=(s.progress||0)+m/this._memoizedDuration,v=v>1?1:v<0?0:v,u.durationProgress=v),d=g+s.easing(v)*(f-g),y=(d-u.lastPosition)/e,h=v==1}u.lastVelocity=y,Number.isNaN(d)&&(console.warn("Got NaN while animating:",this),h=!0)}a&&!a[c].done&&(h=!1),h?u.done=!0:t=!1,u.setValue(d,s.round)&&(n=!0)});const o=ye(this),l=o.getValue();if(t){const u=Q(r.to);(l!==u||n)&&!s.decay?(o.setValue(u),this._onChange(u)):n&&s.decay&&this._onChange(l),this._stop()}else n&&this._onChange(l)}set(e){return D.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Ae(this)){const{to:e,config:t}=this.animation;D.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let n;return _.und(e)?(n=this.queue||[],this.queue=[]):n=[_.obj(e)?e:{...t,to:e}],Promise.all(n.map(r=>this._update(r))).then(r=>li(this,r))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),zt(this._state,e&&this._lastCallId),D.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){e.type=="change"?this._start():e.type=="priority"&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:n,from:r}=e;n=_.obj(n)?n[t]:n,(n==null||kr(n))&&(n=void 0),r=_.obj(r)?r[t]:r,r==null&&(r=void 0);const i={to:n,from:r};return or(this)||(e.reverse&&([n,r]=[r,n]),r=Q(r),_.und(r)?ye(this)||this._set(n):this._set(r)),i}_update({...e},t){const{key:n,defaultProps:r}=this;e.default&&Object.assign(r,ui(e,(a,o)=>/^on/.test(o)?ja(a,n):a)),ps(this,e,"onProps"),Mt(this,"onProps",e,this);const i=this._prepareNode(e);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const s=this._state;return Va(++this._lastCallId,{key:n,props:e,defaultProps:r,state:s,actions:{pause:()=>{bt(this)||(ds(this,!0),At(s.pauseQueue),Mt(this,"onPause",le(this,Tt(this,this.animation.to)),this))},resume:()=>{bt(this)&&(ds(this,!1),Ae(this)&&this._resume(),At(s.resumeQueue),Mt(this,"onResume",le(this,Tt(this,this.animation.to)),this))},start:this._merge.bind(this,i)}}).then(a=>{if(e.loop&&a.finished&&!(t&&a.noop)){const o=Wa(e);if(o)return this._update(o,!0)}return a})}_merge(e,t,n){if(t.cancel)return this.stop(!0),n(nt(this));const r=!_.und(e.to),i=!_.und(e.from);if(r||i)if(t.callId>this._lastToId)this._lastToId=t.callId;else return n(nt(this));const{key:s,defaultProps:a,animation:o}=this,{to:l,from:u}=o;let{to:c=l,from:f=u}=e;i&&!r&&(!t.default||_.und(c))&&(c=f),t.reverse&&([c,f]=[f,c]);const h=!be(f,u);h&&(o.from=f),f=Q(f);const d=!be(c,l);d&&this._focus(c);const m=kr(t.to),{config:g}=o,{decay:w,velocity:y}=g;(r||i)&&(g.velocity=0),t.config&&!m&&I0(g,Fe(t.config,s),t.config!==a.config?Fe(a.config,s):void 0);let b=ye(this);if(!b||_.und(c))return n(le(this,!0));const v=_.und(t.reset)?i&&!t.default:!_.und(f)&&Rt(t.reset,s),T=v?f:this.get(),k=Vt(c),M=_.num(k)||_.arr(k)||zn(k),R=!m&&(!M||Rt(a.immediate||t.immediate,s));if(d){const N=Cr(c);if(N!==b.constructor)if(R)b=this._set(k);else throw Error(`Cannot animate between ${b.constructor.name} and ${N.name}, as the "to" prop suggests`)}const L=b.constructor;let j=re(c),H=!1;if(!j){const N=v||!or(this)&&h;(d||N)&&(H=be(Vt(T),k),j=!H),(!be(o.immediate,R)&&!R||!be(g.decay,w)||!be(g.velocity,y))&&(j=!0)}if(H&&Ae(this)&&(o.changed&&!v?j=!0:j||this._stop(l)),!m&&((j||re(l))&&(o.values=b.getPayload(),o.toValues=re(c)?null:L==Rn?[1]:te(k)),o.immediate!=R&&(o.immediate=R,!R&&!v&&this._set(l)),j)){const{onRest:N}=o;F(H0,A=>ps(this,t,A));const U=le(this,Tt(this,l));At(this._pendingCalls,U),this._pendingCalls.add(n),o.changed&&D.batchedUpdates(()=>{o.changed=!v,N?.(U,this),v?Fe(a.onRest,U):o.onStart?.(U,this)})}v&&this._set(T),m?n(Ya(t.to,t,this._state,this)):j?this._start():Ae(this)&&!d?this._pendingCalls.add(n):n(za(T))}_focus(e){const t=this.animation;e!==t.to&&(ns(this)&&this._detach(),t.to=e,ns(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;re(t)&&(ht(t,this),Nr(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;re(e)&&Lt(e,this)}_set(e,t=!0){const n=Q(e);if(!_.und(n)){const r=ye(this);if(!r||!be(n,r.getValue())){const i=Cr(n);!r||r.constructor!=i?oi(this,i.create(n)):r.setValue(n),r&&D.batchedUpdates(()=>{this._onChange(n,t)})}}return ye(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,Mt(this,"onStart",le(this,Tt(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),Fe(this.animation.onChange,e,this)),Fe(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;ye(this).reset(Q(e.to)),e.immediate||(e.fromValues=e.values.map(t=>t.lastPosition)),Ae(this)||(hs(this,!0),bt(this)||this._resume())}_resume(){me.skipAnimation?this.finish():Ln.start(this)}_stop(e,t){if(Ae(this)){hs(this,!1);const n=this.animation;F(n.values,i=>{i.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),jt(this,{type:"idle",parent:this});const r=t?nt(this.get()):le(this.get(),Tt(this,e??n.to));At(this._pendingCalls,r),n.changed&&(n.changed=!1,Mt(this,"onRest",r,this))}}};function Tt(e,t){const n=Vt(t),r=Vt(e.get());return be(r,n)}function Wa(e,t=e.loop,n=e.to){const r=Fe(t);if(r){const i=r!==!0&&Ha(r),s=(i||e).reverse,a=!i||i.reset;return Yt({...e,loop:t,default:!1,pause:void 0,to:!s||kr(n)?n:void 0,from:a?e.from:void 0,reset:a,...i})}}function Yt(e){const{to:t,from:n}=e=Ha(e),r=new Set;return _.obj(t)&&ms(t,r),_.obj(n)&&ms(n,r),e.keys=r.size?Array.from(r):null,e}function L0(e){const t=Yt(e);return _.und(t.default)&&(t.default=ui(t)),t}function ms(e,t){xe(e,(n,r)=>n!=null&&t.add(r))}var H0=["onStart","onRest","onChange","onPause","onResume"];function ps(e,t,n){e.animation[n]=t[n]!==La(t,n)?ja(t[n],e.key):void 0}function Mt(e,t,...n){e.animation[t]?.(...n),e.defaultProps[t]?.(...n)}var V0=["onStart","onChange","onRest"],z0=1,Y0=class{constructor(e,t){this.id=z0++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each((t,n)=>e[n]=t.get()),e}set(e){for(const t in e){const n=e[t];_.und(n)||this.springs[t].set(n)}}update(e){return e&&this.queue.push(Yt(e)),this}start(e){let{queue:t}=this;return e?t=te(e).map(Yt):this.queue=[],this._flush?this._flush(this,t):(Za(this,t),Pr(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){const n=this.springs;F(te(t),r=>n[r].stop(!!e))}else zt(this._state,this._lastAsyncId),this.each(n=>n.stop(!!e));return this}pause(e){if(_.und(e))this.start({pause:!0});else{const t=this.springs;F(te(e),n=>t[n].pause())}return this}resume(e){if(_.und(e))this.start({pause:!1});else{const t=this.springs;F(te(e),n=>t[n].resume())}return this}each(e){xe(this.springs,e)}_onFrame(){const{onStart:e,onChange:t,onRest:n}=this._events,r=this._active.size>0,i=this._changed.size>0;(r&&!this._started||i&&!this._started)&&(this._started=!0,Nt(e,([o,l])=>{l.value=this.get(),o(l,this,this._item)}));const s=!r&&this._started,a=i||s&&n.size?this.get():null;i&&t.size&&Nt(t,([o,l])=>{l.value=a,o(l,this,this._item)}),s&&(this._started=!1,Nt(n,([o,l])=>{l.value=a,o(l,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;D.onFrame(this._onFrame)}};function Pr(e,t){return Promise.all(t.map(n=>Xa(e,n))).then(n=>li(e,n))}async function Xa(e,t,n){const{keys:r,to:i,from:s,loop:a,onRest:o,onResolve:l}=t,u=_.obj(t.default)&&t.default;a&&(t.loop=!1),i===!1&&(t.to=null),s===!1&&(t.from=null);const c=_.arr(i)||_.fun(i)?i:void 0;c?(t.to=void 0,t.onRest=void 0,u&&(u.onRest=void 0)):F(V0,g=>{const w=t[g];if(_.fun(w)){const y=e._events[g];t[g]=({finished:b,cancelled:v})=>{const T=y.get(w);T?(b||(T.finished=!1),v&&(T.cancelled=!0)):y.set(w,{value:null,finished:b||!1,cancelled:v||!1})},u&&(u[g]=t[g])}});const f=e._state;t.pause===!f.paused?(f.paused=t.pause,At(t.pause?f.pauseQueue:f.resumeQueue)):f.paused&&(t.pause=!0);const h=(r||Object.keys(e.springs)).map(g=>e.springs[g].start(t)),d=t.cancel===!0||La(t,"cancel")===!0;(c||d&&f.asyncId)&&h.push(Va(++e._lastAsyncId,{props:t,state:f,actions:{pause:Mr,resume:Mr,start(g,w){d?(zt(f,e._lastAsyncId),w(nt(e))):(g.onRest=o,w(Ya(c,g,f,e)))}}})),f.paused&&await new Promise(g=>{f.resumeQueue.add(g)});const m=li(e,await Promise.all(h));if(a&&m.finished&&!(n&&m.noop)){const g=Wa(t,a,i);if(g)return Za(e,[g]),Xa(e,g,!0)}return l&&D.batchedUpdates(()=>l(m,e,e.item)),m}function gs(e,t){const n={...e.springs};return t&&F(te(t),r=>{_.und(r.keys)&&(r=Yt(r)),_.obj(r.to)||(r={...r,to:void 0}),Ga(n,r,i=>Qa(i))}),Ba(e,n),n}function Ba(e,t){xe(t,(n,r)=>{e.springs[r]||(e.springs[r]=n,ht(n,e))})}function Qa(e,t){const n=new j0;return n.key=e,t&&ht(n,t),n}function Ga(e,t,n){t.keys&&F(t.keys,r=>{(e[r]||(e[r]=n(r)))._prepareNode(t)})}function Za(e,t){F(t,n=>{Ga(e.springs,n,r=>Qa(r,e))})}var q0=C.createContext({pause:!1,immediate:!1}),W0=()=>{const e=[],t=function(r){y0();const i=[];return F(e,(s,a)=>{if(_.und(r))i.push(s.start());else{const o=n(r,s,a);o&&i.push(s.start(o))}}),i};t.current=e,t.add=function(r){e.includes(r)||e.push(r)},t.delete=function(r){const i=e.indexOf(r);~i&&e.splice(i,1)},t.pause=function(){return F(e,r=>r.pause(...arguments)),this},t.resume=function(){return F(e,r=>r.resume(...arguments)),this},t.set=function(r){F(e,(i,s)=>{const a=_.fun(r)?r(s,i):r;a&&i.set(a)})},t.start=function(r){const i=[];return F(e,(s,a)=>{if(_.und(r))i.push(s.start());else{const o=this._getProps(r,s,a);o&&i.push(s.start(o))}}),i},t.stop=function(){return F(e,r=>r.stop(...arguments)),this},t.update=function(r){return F(e,(i,s)=>i.update(this._getProps(r,i,s))),this};const n=function(r,i,s){return _.fun(r)?r(s,i):r};return t._getProps=n,t};function X0(e,t,n){const r=_.fun(t)&&t;r&&!n&&(n=[]);const i=C.useMemo(()=>r||arguments.length==3?W0():void 0,[]),s=C.useRef(0),a=Ea(),o=C.useMemo(()=>({ctrls:[],queue:[],flush(y,b){const v=gs(y,b);return s.current>0&&!o.queue.length&&!Object.keys(v).some(k=>!y.springs[k])?Pr(y,b):new Promise(k=>{Ba(y,v),o.queue.push(()=>{k(Pr(y,b))}),a()})}}),[]),l=C.useRef([...o.ctrls]),u=C.useRef([]),c=is(e)||0;C.useMemo(()=>{F(l.current.slice(e,c),y=>{P0(y,i),y.stop(!0)}),l.current.length=e,f(c,e)},[e]),C.useMemo(()=>{f(0,Math.min(c,e))},n);function f(y,b){for(let v=y;v<b;v++){const T=l.current[v]||(l.current[v]=new Y0(null,o.flush)),k=r?r(v,T):t[v];k&&(u.current[v]=L0(k))}}const h=l.current.map((y,b)=>gs(y,u.current[b])),d=C.useContext(q0),m=is(d),g=d!==m&&R0(d);ai(()=>{s.current++,o.ctrls=l.current;const{queue:y}=o;y.length&&(o.queue=[],F(y,b=>b())),F(l.current,(b,v)=>{i?.add(b),g&&b.start({default:d});const T=u.current[v];T&&(E0(b,T.ref),b.ref?b.queue.push(T):b.start(T))})}),$a(()=>()=>{F(o.ctrls,y=>y.stop(!0))});const w=h.map(y=>({...y}));return i?[w,i]:w}function Ka(e,t){const n=_.fun(e),[[r],i]=X0(1,n?e:[e],n?[]:t);return n||arguments.length==2?[r,i]:r}var B0=class extends ci{constructor(e,t){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=Ut(...t);const n=this._get(),r=Cr(n);oi(this,r.create(n))}advance(e){const t=this._get(),n=this.get();be(t,n)||(ye(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&ys(this._active)&&ur(this)}_get(){const e=_.arr(this.source)?this.source.map(Q):te(Q(this.source));return this.calc(...e)}_start(){this.idle&&!ys(this._active)&&(this.idle=!1,F(Yn(this),e=>{e.done=!1}),me.skipAnimation?(D.batchedUpdates(()=>this.advance()),ur(this)):Ln.start(this))}_attach(){let e=1;F(te(this.source),t=>{re(t)&&ht(t,this),Nr(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){F(te(this.source),e=>{re(e)&&Lt(e,this)}),this._active.clear(),ur(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=te(this.source).reduce((t,n)=>Math.max(t,(Nr(n)?n.priority:0)+1),0))}};function Q0(e){return e.idle!==!1}function ys(e){return!e.size||Array.from(e).every(Q0)}function ur(e){e.idle||(e.idle=!0,F(Yn(e),t=>{t.done=!0}),jt(e,{type:"idle",parent:e}))}me.assign({createStringInterpolator:Ra,to:(e,t)=>new B0(e,t)});var Ja=/^--/;function G0(e,t){return t==null||typeof t=="boolean"||t===""?"":typeof t=="number"&&t!==0&&!Ja.test(e)&&!(Pt.hasOwnProperty(e)&&Pt[e])?t+"px":(""+t).trim()}var vs={};function Z0(e,t){if(!e.nodeType||!e.setAttribute)return!1;const n=e.nodeName==="filter"||e.parentNode&&e.parentNode.nodeName==="filter",{className:r,style:i,children:s,scrollTop:a,scrollLeft:o,viewBox:l,...u}=t,c=Object.values(u),f=Object.keys(u).map(h=>n||e.hasAttribute(h)?h:vs[h]||(vs[h]=h.replace(/([A-Z])/g,d=>"-"+d.toLowerCase())));s!==void 0&&(e.textContent=s);for(const h in i)if(i.hasOwnProperty(h)){const d=G0(h,i[h]);Ja.test(h)?e.style.setProperty(h,d):e.style[h]=d}f.forEach((h,d)=>{e.setAttribute(h,c[d])}),r!==void 0&&(e.className=r),a!==void 0&&(e.scrollTop=a),o!==void 0&&(e.scrollLeft=o),l!==void 0&&e.setAttribute("viewBox",l)}var Pt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},K0=(e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1),J0=["Webkit","Ms","Moz","O"];Pt=Object.keys(Pt).reduce((e,t)=>(J0.forEach(n=>e[K0(n,t)]=e[t]),e),Pt);var em=/^(matrix|translate|scale|rotate|skew)/,tm=/^(translate)/,nm=/^(rotate|skew)/,lr=(e,t)=>_.num(e)&&e!==0?e+t:e,dn=(e,t)=>_.arr(e)?e.every(n=>dn(n,t)):_.num(e)?e===t:parseFloat(e)===t,rm=class extends Wn{constructor({x:e,y:t,z:n,...r}){const i=[],s=[];(e||t||n)&&(i.push([e||0,t||0,n||0]),s.push(a=>[`translate3d(${a.map(o=>lr(o,"px")).join(",")})`,dn(a,0)])),xe(r,(a,o)=>{if(o==="transform")i.push([a||""]),s.push(l=>[l,l===""]);else if(em.test(o)){if(delete r[o],_.und(a))return;const l=tm.test(o)?"px":nm.test(o)?"deg":"";i.push(te(a)),s.push(o==="rotate3d"?([u,c,f,h])=>[`rotate3d(${u},${c},${f},${lr(h,l)})`,dn(h,0)]:u=>[`${o}(${u.map(c=>lr(c,l)).join(",")})`,dn(u,o.startsWith("scale")?1:0)])}}),i.length&&(r.transform=new im(i,s)),super(r)}},im=class extends Aa{constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return F(this.inputs,(n,r)=>{const i=Q(n[0]),[s,a]=this.transforms[r](_.arr(i)?i:n.map(Q));e+=" "+s,t=t&&a}),t?"none":e}observerAdded(e){e==1&&F(this.inputs,t=>F(t,n=>re(n)&&ht(n,this)))}observerRemoved(e){e==0&&F(this.inputs,t=>F(t,n=>re(n)&&Lt(n,this)))}eventObserved(e){e.type=="change"&&(this._value=null),jt(this,e)}},sm=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];me.assign({batchedUpdates:co.unstable_batchedUpdates,createStringInterpolator:Ra,colors:Qd});var am=C0(sm,{applyAnimatedValues:Z0,createAnimatedStyle:e=>new rm(e),getComponentProps:({scrollTop:e,scrollLeft:t,...n})=>n}),Ge=am.animated;const om=({name:e,value:t})=>{const i=Ld().value(f=>f.value).startAngle(-Math.PI/2).endAngle(Math.PI/2).sort(null).padAngle(0),s=420/1.625,a=Zi().innerRadius(s).outerRadius(420),o=Zi().innerRadius(s+10/2).outerRadius(420).cornerRadius(12)||void 0,l=f=>{const h=Math.max(0,Math.min(100,f)),d=[{name:"Filled",value:h},{name:"Empty",value:100-h}],m=i(d);return{filled:{path:a(m[0])||"",clip:o(m[0])||""},empty:{path:a(m[1])||"",clip:o(m[1])||""}}},{val:u}=Ka({from:{val:0},to:{val:t},config:{mass:1,tension:120,friction:80}}),c={gray:"fill-[#e0e0e0] dark:fill-zinc-700",purple:"fill-violet-600 dark:fill-violet-500"};return p.jsx("div",{className:"relative",children:p.jsxs("svg",{viewBox:`-420 -420 ${420*2} 420`,className:"max-w-[16rem] mx-auto overflow-visible",children:[p.jsxs("defs",{children:[p.jsx("clipPath",{id:"fillable-half-donut-clip-filled",children:p.jsx(Ge.path,{d:u.to(f=>l(f).filled.clip)})}),p.jsx("clipPath",{id:"fillable-half-donut-clip-empty",children:p.jsx(Ge.path,{d:u.to(f=>l(f).empty.clip)})})]}),p.jsxs("g",{children:[p.jsx("g",{clipPath:"url(#fillable-half-donut-clip-empty)",children:p.jsx(Ge.path,{className:`stroke-white/30 dark:stroke-zinc-400/10 ${c.gray}`,strokeWidth:10,d:u.to(f=>l(f).empty.path)})}),p.jsx("g",{clipPath:"url(#fillable-half-donut-clip-filled)",children:p.jsx(Ge.path,{className:`stroke-white/30 dark:stroke-zinc-400/10 ${c.purple}`,strokeWidth:10,d:u.to(f=>l(f).filled.path)})})]}),p.jsx("text",{transform:`translate(0, ${-420/4})`,textAnchor:"middle",fontSize:48,fontWeight:"bold",fill:"currentColor",className:"text-zinc-700 dark:text-zinc-100",children:e||"Meta"})," ",p.jsx(Ge.text,{transform:`translate(0, ${-420/12})`,textAnchor:"middle",fontSize:64,fontWeight:"bold",fill:"currentColor",className:"text-zinc-800 dark:text-zinc-300",children:u.to(f=>`${Math.round(f)}%`)})]})})},um=({event:e})=>{const{t,i18n:n}=En(),r=n.language==="es"?$n:ft,[i,s]=C.useState(!1),[a,o]=C.useState(0),l=async()=>{const u=await Eo.getEvent(e.id);let c=0;const f=e.capacity||0;if(f===0&&u.attendees&&u.attendees?.length>0)c=100;else if(f>0){const h=u.attendees?.length||0;c=Math.floor(h*100/f)}c>100&&(c=100),c!=a&&o(c),s(!0)};return p.jsxs(fo,{children:[p.jsxs(ho,{className:"p-2 bg-primary/10 rounded-md text-sm",onClick:l,children:[p.jsx("div",{className:"font-medium",children:e.name}),p.jsx("div",{className:"text-xs text-gray-500",children:ce(new Date(e.date),"HH:mm")}),p.jsx("div",{className:"text-xs truncate",children:e.location})]}),p.jsxs(mo,{children:[p.jsxs(po,{children:[p.jsx(go,{children:e.name}),p.jsx(yo,{children:e.description})]}),p.jsxs("span",{className:"block mb-2 mt-6",children:[t("events.dateStart"),": ",ce(new Date(e.date),"dd MMM yyyy",{locale:r})]}),p.jsxs("span",{className:"block mb-2",children:[t("events.time"),": ",ce(new Date(e.date),"HH:mm",{locale:r})]}),p.jsxs("span",{className:"block mb-2",children:[t("events.dateEnd"),": ",e.endDate?ce(new Date(e.endDate),"dd/MM/yyyy"):""]}),p.jsxs("span",{className:"block mb-2",children:[t("events.location"),": ",e.location]}),p.jsxs("span",{className:"block mb-2",children:[t("events.capacity"),": ",e.capacity||"Sin límite"]}),p.jsxs("span",{className:"block mb-2",children:[t("events.assistance"),":"]}),i&&p.jsx("span",{className:"block mb-2",children:p.jsx(om,{name:t("events.assistance"),value:a})}),p.jsx(As,{}),p.jsxs("span",{className:"block mb-2 mt-4",children:[t("events.organizer"),": ",e.createdBy||t("events.notOrganizer")]}),p.jsxs("span",{className:"block mb-2",children:[t("events.createdBy"),": ",ce(new Date(e.createdAt),"dd/MM/yyyy")]}),p.jsxs(vo,{children:[p.jsx(mn,{children:p.jsx(cr,{to:`/public/eventPage/${e.id}`,target:"_blank",rel:"noopener noreferrer",children:t("events.viewEventPage")})}),p.jsx(xo,{asChild:!0,children:p.jsx(mn,{variant:"outline",children:t("events.close")})})]})]})]})},lm=()=>{const[e,t]=C.useState(new Date),n=Qn(o=>o.events),r=Qn(o=>o.lastEvent),i=Qn(o=>o.getEvents);C.useEffect(()=>{i()},[]),n&&n.length>0&&new Date(n[0].date).toDateString()!=e.toDateString()&&t(new Date(n[0].date));const s=Io(e,{weekStartsOn:1}),a=[...Array(7)].map((o,l)=>{const u=jo(s,l),c=n.filter(f=>Lo(new Date(f.date),u));return{date:u,events:c}});return{events:n,lastEvent:r,weekDays:a}},cm=({data:e})=>{const{t}=Ka({from:{t:0},to:{t:1},config:{duration:1e3}});if(e.length===0)return null;const n=Sd().domain([e[0].start,e[e.length-1].end]).range([0,100]),r=oa().domain([0,pu(e.map(a=>a.value))??0]).range([100,0]),i=Ud().x(a=>n(a.end)).y(a=>r(a.value)).curve(Hd),s=t.to(a=>{const o=e.map(l=>({...l,value:l.value*a}));return i(o)||""});return s?p.jsxs("div",{className:"relative h-72 w-full",style:{"--marginTop":"0px","--marginRight":"8px","--marginBottom":"25px","--marginLeft":"25px"},children:[p.jsx("div",{className:"absolute inset-0 h-[calc(100%-var(--marginTop)-var(--marginBottom))] w-[var(--marginLeft)] translate-y-[var(--marginTop)] overflow-visible",children:r.ticks(8).map(r.tickFormat(8,"d")).map((a,o)=>p.jsx("div",{style:{top:`${r(+a)}%`,left:"0%"},className:"absolute text-xs tabular-nums -translate-y-1/2 text-gray-500 w-full text-right pr-2",children:a},o))}),p.jsxs("div",{className:"absolute inset-0 h-[calc(100%-var(--marginTop)-var(--marginBottom))] w-[calc(100%-var(--marginLeft)-var(--marginRight))] translate-x-[var(--marginLeft)] translate-y-[var(--marginTop)] overflow-visible",children:[p.jsxs("svg",{viewBox:"0 0 100 100",className:"overflow-visible w-full h-full",preserveAspectRatio:"none",children:[r.ticks(8).map(r.tickFormat(8,"d")).map((a,o)=>p.jsx("g",{transform:`translate(0,${r(+a)})`,className:"text-zinc-300 dark:text-zinc-700",children:p.jsx("line",{x1:0,x2:100,stroke:"currentColor",strokeDasharray:"6,5",strokeWidth:.5,vectorEffect:"non-scaling-stroke"})},o)),p.jsx(Ge.path,{d:s,fill:"none",stroke:"url(#lineStep-gradient)",strokeWidth:"2",vectorEffect:"non-scaling-stroke"}),p.jsx("defs",{children:p.jsxs("linearGradient",{id:"lineStep-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[p.jsx("stop",{offset:"0%",stopColor:"currentColor",className:"text-emerald-500"}),p.jsx("stop",{offset:"100%",stopColor:"currentColor",className:"text-lime-400"})]})})]}),p.jsx("div",{className:"translate-y-2",children:e.map((a,o)=>p.jsx("div",{className:"overflow-visible text-zinc-500",children:p.jsx("div",{style:{left:`${n(a.end)}%`,top:"100%",transform:"translateX(-50%)"},className:"text-xs absolute",children:a.end.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})},o))})]})]}):null};var[Xn,Ym]=_o("Tooltip",[bs]),Bn=bs(),eo="TooltipProvider",fm=700,Er="tooltip.open",[hm,fi]=Xn(eo),to=e=>{const{__scopeTooltip:t,delayDuration:n=fm,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=e,a=C.useRef(!0),o=C.useRef(!1),l=C.useRef(0);return C.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),p.jsx(hm,{scope:t,isOpenDelayedRef:a,delayDuration:n,onOpen:C.useCallback(()=>{window.clearTimeout(l.current),a.current=!1},[]),onClose:C.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:o,onPointerInTransitChange:C.useCallback(u=>{o.current=u},[]),disableHoverableContent:i,children:s})};to.displayName=eo;var qt="Tooltip",[dm,Zt]=Xn(qt),no=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:i,onOpenChange:s,disableHoverableContent:a,delayDuration:o}=e,l=fi(qt,e.__scopeTooltip),u=Bn(t),[c,f]=C.useState(null),h=wo(),d=C.useRef(0),m=a??l.disableHoverableContent,g=o??l.delayDuration,w=C.useRef(!1),[y,b]=bo({prop:r,defaultProp:i??!1,onChange:R=>{R?(l.onOpen(),document.dispatchEvent(new CustomEvent(Er))):l.onClose(),s?.(R)},caller:qt}),v=C.useMemo(()=>y?w.current?"delayed-open":"instant-open":"closed",[y]),T=C.useCallback(()=>{window.clearTimeout(d.current),d.current=0,w.current=!1,b(!0)},[b]),k=C.useCallback(()=>{window.clearTimeout(d.current),d.current=0,b(!1)},[b]),M=C.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>{w.current=!0,b(!0),d.current=0},g)},[g,b]);return C.useEffect(()=>()=>{d.current&&(window.clearTimeout(d.current),d.current=0)},[]),p.jsx(To,{...u,children:p.jsx(dm,{scope:t,contentId:h,open:y,stateAttribute:v,trigger:c,onTriggerChange:f,onTriggerEnter:C.useCallback(()=>{l.isOpenDelayedRef.current?M():T()},[l.isOpenDelayedRef,M,T]),onTriggerLeave:C.useCallback(()=>{m?k():(window.clearTimeout(d.current),d.current=0)},[k,m]),onOpen:T,onClose:k,disableHoverableContent:m,children:n})})};no.displayName=qt;var $r="TooltipTrigger",ro=C.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=Zt($r,n),s=fi($r,n),a=Bn(n),o=C.useRef(null),l=Ts(t,o,i.onTriggerChange),u=C.useRef(!1),c=C.useRef(!1),f=C.useCallback(()=>u.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),p.jsx(Mo,{asChild:!0,...a,children:p.jsx(_s.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:Xe(e.onPointerMove,h=>{h.pointerType!=="touch"&&!c.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),c.current=!0)}),onPointerLeave:Xe(e.onPointerLeave,()=>{i.onTriggerLeave(),c.current=!1}),onPointerDown:Xe(e.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Xe(e.onFocus,()=>{u.current||i.onOpen()}),onBlur:Xe(e.onBlur,i.onClose),onClick:Xe(e.onClick,i.onClose)})})});ro.displayName=$r;var hi="TooltipPortal",[mm,pm]=Xn(hi,{forceMount:void 0}),io=e=>{const{__scopeTooltip:t,forceMount:n,children:r,container:i}=e,s=Zt(hi,t);return p.jsx(mm,{scope:t,forceMount:n,children:p.jsx(Ms,{present:n||s.open,children:p.jsx(So,{asChild:!0,container:i,children:r})})})};io.displayName=hi;var ct="TooltipContent",so=C.forwardRef((e,t)=>{const n=pm(ct,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=e,a=Zt(ct,e.__scopeTooltip);return p.jsx(Ms,{present:r||a.open,children:a.disableHoverableContent?p.jsx(ao,{side:i,...s,ref:t}):p.jsx(gm,{side:i,...s,ref:t})})}),gm=C.forwardRef((e,t)=>{const n=Zt(ct,e.__scopeTooltip),r=fi(ct,e.__scopeTooltip),i=C.useRef(null),s=Ts(t,i),[a,o]=C.useState(null),{trigger:l,onClose:u}=n,c=i.current,{onPointerInTransitChange:f}=r,h=C.useCallback(()=>{o(null),f(!1)},[f]),d=C.useCallback((m,g)=>{const w=m.currentTarget,y={x:m.clientX,y:m.clientY},b=wm(y,w.getBoundingClientRect()),v=bm(y,b),T=Tm(g.getBoundingClientRect()),k=Sm([...v,...T]);o(k),f(!0)},[f]);return C.useEffect(()=>()=>h(),[h]),C.useEffect(()=>{if(l&&c){const m=w=>d(w,c),g=w=>d(w,l);return l.addEventListener("pointerleave",m),c.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",m),c.removeEventListener("pointerleave",g)}}},[l,c,d,h]),C.useEffect(()=>{if(a){const m=g=>{const w=g.target,y={x:g.clientX,y:g.clientY},b=l?.contains(w)||c?.contains(w),v=!Mm(y,a);b?h():v&&(h(),u())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[l,c,a,u,h]),p.jsx(ao,{...e,ref:s})}),[ym,vm]=Xn(qt,{isInside:!1}),xm=Ao("TooltipContent"),ao=C.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:a,...o}=e,l=Zt(ct,n),u=Bn(n),{onClose:c}=l;return C.useEffect(()=>(document.addEventListener(Er,c),()=>document.removeEventListener(Er,c)),[c]),C.useEffect(()=>{if(l.trigger){const f=h=>{h.target?.contains(l.trigger)&&c()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,c]),p.jsx(Co,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:c,children:p.jsxs(ko,{"data-state":l.stateAttribute,...u,...o,ref:t,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[p.jsx(xm,{children:r}),p.jsx(ym,{scope:n,isInside:!0,children:p.jsx(No,{id:l.contentId,role:"tooltip",children:i||r})})]})})});so.displayName=ct;var oo="TooltipArrow",_m=C.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=Bn(n);return vm(oo,n).isInside?null:p.jsx(Do,{...i,...r,ref:t})});_m.displayName=oo;function wm(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function bm(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function Tm(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function Mm(e,t){const{x:n,y:r}=e;let i=!1;for(let s=0,a=t.length-1;s<t.length;a=s++){const o=t[s],l=t[a],u=o.x,c=o.y,f=l.x,h=l.y;c>r!=h>r&&n<(f-u)*(r-c)/(h-c)+u&&(i=!i)}return i}function Sm(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Cm(t)}function Cm(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const s=t[t.length-1],a=t[t.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const s=n[n.length-1],a=n[n.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var km=to,Am=no,Nm=ro,Dm=io,uo=so;const Rm=km,Pm=Am,Em=Nm,lo=C.forwardRef(({className:e,sideOffset:t=4,...n},r)=>p.jsx(Dm,{children:p.jsx(uo,{ref:r,sideOffset:t,className:ws("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n})}));lo.displayName=uo.displayName;const $m=()=>{const{t:e,i18n:t}=En(),n=t.language==="es"?$n:ft;return[{header:e("events.recordsAssistance.columns.dateRegister"),accessorKey:"dateRegister",cell:r=>{const i=r.getValue();return p.jsx(Rm,{children:p.jsxs(Pm,{children:[p.jsx(Em,{children:tu(new Date(i),{locale:n,addSuffix:!0})}),p.jsx(lo,{children:p.jsxs("p",{children:[nu(new Date(i),new Date,{locale:n}),ce(new Date(i),"hh:mm a",{locale:n})]})})]})})}},{header:e("events.recordsAssistance.columns.disciple"),accessorKey:"disciple",cell:r=>{const i=r.getValue();return p.jsxs(p.Fragment,{children:[i?.name," ",i?.lastName]})}},{header:e("events.recordsAssistance.columns.ministry"),accessorKey:"disciple.ministryId",cell:r=>{const i=r.getValue(),a=Ro(o=>o.ministries).find(o=>o.id===i);return p.jsx(p.Fragment,{children:a?.name})}}]},Fm=({event:e})=>{const{t,i18n:n}=En(),r=n.language==="es"?$n:ft,s=$o(e.attendees||[]).map(a=>({start:a.start,end:a.end,value:a.registers.length}));return p.jsxs("div",{className:"flex items-center items-center justify-center text-start rounded-lg border border-dashed p-4 shadow-sm mt-4",children:[p.jsx("h2",{children:"Ultimo evento"}),p.jsxs("div",{className:"mt-4 border-1 border-solid border-neutral-200 p-4 rounded-lg min-h-md",children:[p.jsx("h2",{children:e.name}),p.jsxs("span",{className:"block mb-2",children:["Hora: ",ce(new Date(e.date),"HH:mm a",{locale:r})]}),p.jsxs("span",{className:"block mb-2",children:["Fecha Fin: ",e.endDate?ce(new Date(e.endDate),"dd/MM/yyyy",{locale:r}):""]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Ubicación:"})," ",e.location]}),e.description&&p.jsxs("p",{children:[p.jsx("strong",{children:"Descripción:"})," ",e.description]})]}),p.jsxs("div",{className:"mt-4 border-1 border-solid border-neutral-200 p-4 rounded-lg min-w-md",children:[p.jsx("h3",{className:"mb-4",children:"Tiempos de Registro "}),p.jsx(cm,{data:s})]}),p.jsxs("div",{className:"mt-4 border-1 border-solid border-neutral-200 p-4 rounded-lg min-w-lg",children:[p.jsx("h3",{className:"mb-3",children:t("events.recordsAssistance.title")}),p.jsx(Ho,{data:e.attendees||[],columns:$m()})]})]})},qm=()=>{const{t:e,i18n:t}=En(),n=t.language==="es"?$n:ft,{weekDays:r,lastEvent:i}=lm();return p.jsxs("div",{className:"container mx-auto p-4",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h1",{className:"text-2xl font-bold",children:e("events.eventCalendar")}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(mn,{asChild:!0,variant:"outline",className:"flex items-center gap-2",children:p.jsxs(cr,{to:"/events/scan",children:[p.jsx(Wo,{className:"h-5 w-5"}),e("events.scanQR")]})}),p.jsx(mn,{asChild:!0,className:"flex items-center gap-2",children:p.jsxs(cr,{to:"/events/create",children:[p.jsx(Yo,{className:"h-5 w-5"}),e("events.create")]})})]})]}),p.jsx("div",{className:"grid grid-cols-7 gap-4",children:r.map(({date:s,events:a})=>p.jsxs(Po,{className:"p-2",children:[p.jsxs("div",{className:"text-center border-b pb-2",children:[p.jsx("div",{className:"font-medium",children:ce(s,"EEEE",{locale:n})}),p.jsx("div",{className:"text-sm text-gray-500",children:ce(s,"d MMM",{locale:n})})]}),p.jsx("div",{className:"mt-2 space-y-2 min-h-[150px]",children:a.length>0?a.map(o=>p.jsx(um,{event:o},o.id)):p.jsx("div",{className:"text-center text-sm text-gray-400 mt-4",children:e("events.withoutEvents")})})]},s.toISOString()))}),i&&p.jsx(Fm,{event:i})]})};export{qm as default};
