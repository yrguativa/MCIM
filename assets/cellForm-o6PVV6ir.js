import{r as J,f as P,j as e,y as F,z as y,o as G,s as n,A as Z,E as Y,u as k,a as H,n as Q,F as q,H as K,J as z,K as i,M as d,N as b,S as $,O as c,b as W,c as X,d as _,e as t,P as v,B as E,g as N,Q as h,T as I,I as x,V as j}from"./index-Dnm8NtzM.js";import{C as ee,P as C,a as D,b as T}from"./calendar-BdTHWqt5.js";import{n as le,C as p,a as g,b as U,c as V,d as f,e as M}from"./command-ChFPNjs6.js";import{u as w,B as ae}from"./cell.store-zFbGR8WI.js";import{e as se}from"./es-qEt9a_fm.js";import{S as re}from"./save-Ck3GFfCn.js";import"./format-B6N5uOCh.js";import"./toDate-KnhkpVFB.js";import"./endOfMonth-BxcVBkcm.js";import"./dialog-jQuW3TEA.js";const Ae=A=>{const[R,L]=J.useState([]),{id:m}=P(),S=w(o=>o.getCell);let u;if(m&&(u=S(m),u&&u.records&&u.records.length>0)){const o=u.records.map(s=>new Date(s.date));JSON.stringify(R)!==JSON.stringify(o)&&L(o)}return e.jsxs("div",{className:"flex flex-col  text-start rounded-lg border border-dashed p-4 shadow-sm",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Registro de celula"}),e.jsxs("div",{className:"flex flex-row justify-around",children:[e.jsx(ee,{mode:"multiple",selected:R,onSelect:L,locale:se,className:"rounded-md border"}),e.jsx("div",{className:"w-3/5",children:e.jsxs("div",{className:"flex flex-row justify-between pb-2",children:["Ultimas Celulas",e.jsxs(F,{className:y({variant:"outline"}),to:`/cell/${A.idCell}/register`,children:[e.jsx(ae,{className:"mr-2"}),"Registrar Asistencia"]})]})})]})]})},ue=G({id:n().uuid().default(crypto.randomUUID()),leader:n().min(2,{message:"El lider de la celula es obligatorio."}),host:n().min(2,{message:"El anfitrion de la celula es obligatorio."}),neighborhood:Y({error:"A neighborhood is required."}),network:le({error:"A neighborhood is required."}),address:n().min(5,{message:"La dirección debe tener minimo 5 caracteres."}),createdDate:Z({error:"A date of birth is required."}),createdUser:n().min(2,{message:"Username must be at least 2 characters."})}),O=[{label:"ALEJANDRIA 1",value:1},{label:"ALEJANDRIA 3",value:2},{label:"ALEJANDRIA 4",value:3},{label:"ALEJANDRIA 5",value:4},{label:"ALEJANDRIA 6",value:5},{label:"ALEJANDRIA 7",value:6},{label:"ALEJANDRIA 8",value:7},{label:"ALEJANDRÍA REAL",value:8},{label:"ALICANTE",value:9},{label:"ALTOS DE GUALI",value:10},{label:"ALTOS DE GUALI 1",value:11},{label:"ALTOS DE GUALI 3",value:12},{label:"ALTOS DE GUALI 5",value:13},{label:"ALTOS DE SAN JUAN",value:14},{label:"ARBOLEDA",value:15},{label:"AURORA",value:16},{label:"BACATA",value:17},{label:"BALCONES DE FUNZA",value:18},{label:"BELLIZCA",value:19},{label:"CAMPIÑAS DE SAN GABRIEL",value:20},{label:"CAMPIÑAS DEL SOL",value:21},{label:"CENTRO FUNZA",value:22},{label:"CENTRO MOSQUERA",value:23},{label:"CIUDAD DE LOS PUERTOS",value:24},{label:"CIUDAD SABANA",value:25},{label:"COLIBRI",value:26},{label:"CONDOMINIO PALO ALTO",value:27},{label:"CONJUNTO CELTA",value:28},{label:"CONJUNTO RESIDENCIAL PETREL",value:29},{label:"CORTIJO DE SERREZUELA",value:30},{label:"EL BREMEN",value:31},{label:"EL CABRERO",value:32},{label:"EL DIAMANTE",value:33},{label:"EL HATO",value:34},{label:"EL PALMAR",value:35},{label:"EL POBLADO",value:36},{label:"EL REMANSO",value:37},{label:"EL TRÉBOL",value:38},{label:"ESTANCIA 2",value:39},{label:"FUNZA CENTRO",value:40},{label:"HACIENDA ALCALA",value:41},{label:"HACIENDA EL ROSAL",value:42},{label:"HACIENDA LOS CABALLOS",value:43},{label:"HACIENDA SAN ANDRES",value:44},{label:"HALCONES DE MOSQUERA",value:45},{label:"IREGUI",value:46},{label:"IREGUI 2",value:47},{label:"LA ARBOLEDA",value:48},{label:"LA AURORA",value:49},{label:"LA CABAÑA",value:50},{label:"LA CAMPIÑA",value:51},{label:"LA CARTUJA",value:52},{label:"LA CITA",value:53},{label:"LA CUMBRE",value:54},{label:"LA ESPERANZA",value:55},{label:"LA ESTANCIA",value:56},{label:"LA FORTUNA",value:57},{label:"LA PROSPERIDAD, MADRID",value:58},{label:"LOS PUERTOS",value:59},{label:"LOS VIRREYES",value:60},{label:"MADRID",value:61},{label:"MAIPORE",value:62},{label:"MALLORCA",value:63},{label:"MALLORCA 2",value:64},{label:"MALLORCA 3",value:65},{label:"MARTINEZ RICO",value:66},{label:"MAYORCA 3",value:67},{label:"MEXICO",value:68},{label:"NOVATERRA CEDRO",value:69},{label:"NOVATERRA CAOBA",value:70},{label:"NOVATERRA CEREZO",value:71},{label:"NOVATERRA GUAYACÁN",value:72},{label:"NOVATERRA ROBLE",value:73},{label:"NOVATERRA CANELO",value:74},{label:"NOVATERRA ZAPÁN",value:75},{label:"NOVATERRA NOGAL",value:76},{label:"NOVATERRA CIPRÉS",value:77},{label:"NOVAERRA ARRAYÁN",value:78},{label:"NUEVA CASTILLA",value:79},{label:"NUEVA GERONA",value:80},{label:"OASIS DE FUNZA",value:81},{label:"PARQUES DE SAN ISIDRO",value:82},{label:"PETREL",value:83},{label:"PLANADAS",value:84},{label:"POBLADO",value:85},{label:"PORTALES DE FUNZA",value:86},{label:"PORTON DE MALLORCA",value:87},{label:"PORVENIR CENTRO",value:88},{label:"PORVENIR RIO",value:89},{label:"PRADERAS I",value:90},{label:"PRADOS DE SAN ANDRÉS",value:91},{label:"PROVIVIENDA",value:92},{label:"PUERTO ALEGRE",value:93},{label:"PUERTO AZUL",value:94},{label:"PUERTO PLATA",value:95},{label:"PUERTO VALLARTA",value:96},{label:"QUINTAS DE CELTA ",value:97},{label:"QUINTAS DEL TREBOL",value:98},{label:"RECODOS DE MOSQUERA",value:99},{label:"REMANSO",value:100},{label:"RESERVA DE MALLORCA",value:101},{label:"RESERVA DE MALLORCA 3",value:102},{label:"RESERVA DE USCA",value:103},{label:"RESERVA DE MALLORCA 2",value:104},{label:"RESERVAS DE USCA",value:105},{label:"RINCON DE VIRREYES",value:106},{label:"SAMARKANDA",value:107},{label:"SAN ISIDRIO",value:108},{label:"SAN ISIDRO",value:109},{label:"SAN MARCOS",value:110},{label:"SAN MIGUEL",value:111},{label:"SAN SEBASTIAN",value:112},{label:"SAN TELMO",value:113},{label:"SANTA ANA",value:114},{label:"SANTA TERESITA",value:115},{label:"SANTANA",value:116},{label:"SANTELMO",value:117},{label:"SENDEROS DE FUNZA",value:118},{label:"SENDEROS DE SIETE TROJES",value:119},{label:"SERENAS",value:120},{label:"SERREZUELITA",value:121},{label:"SIETE TROJES",value:122},{label:"SOCIEGO",value:123},{label:"TREBOL DEL GUALI",value:124},{label:"TREBOL DEL GUALI 2",value:125},{label:"VELVERDE",value:126},{label:"VERONES",value:127},{label:"VILLA DEL ROCIO",value:128},{label:"VILLA DEL SOL",value:129},{label:"VILLA DIANA",value:130},{label:"VILLA IMPERIAL",value:131},{label:"VILLA JENNY",value:132},{label:"VILLA MARCELA",value:133},{label:"VILLA MARIA",value:134},{label:"VILLA MARIA 2",value:135},{label:"VILLA MARIA 3",value:136},{label:"VILLA MARIA 4",value:137},{label:"VILLA MARY",value:138},{label:"VILLA NUEVA",value:139},{label:"VILLA PAOLA",value:140},{label:"VILLA SAJONIA",value:141},{label:"VILLA YENNY",value:142},{label:"VILLANUEVA",value:143},{label:"VILLAS",value:144},{label:"VILLAS DEL TREBOL",value:145},{label:"VILLASAJONIA",value:146},{label:"VIRREYES",value:147},{label:"WAYRA",value:148},{label:"ZUAME",value:149},{label:"ZUAME 2",value:150}],Le=()=>{const{id:A}=P(),R=k(),L=H(l=>l.user),{addCell:m,updateCell:S,getCell:u}=w(),o=Q(l=>l.Disciples),s={id:crypto.randomUUID(),createdUser:L?.id||"",createdDate:new Date,address:"",leader:"",host:"",network:0,neighborhood:O[0].value};if(A){const l=u(A);l&&(s.id=l.id,s.createdUser=l.createdUser,s.createdDate=l.createdDate?new Date(l.createdDate):new Date,s.network=l.network,s.neighborhood=l.neighborhood,s.address=l.address,s.leader=l.leader,s.host=l.host)}const r=q({resolver:K(ue),mode:"onChange",defaultValues:s}),B=l=>{A?S(l):m(l),R("/")};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex items-center",children:e.jsx("h1",{className:"text-lg font-semibold md:text-2xl",children:"Editar Celula"})}),e.jsx("div",{className:"flex items-center items-center justify-center text-start rounded-lg border border-dashed p-4 shadow-sm",children:e.jsx(z,{...r,children:e.jsxs("form",{onSubmit:r.handleSubmit(B),className:"grid grid-cols-2 grid-flow-row gap-2 w-full",children:[e.jsx(i,{control:r.control,name:"network",render:({field:l})=>e.jsxs(d,{children:[e.jsx(b,{children:"Red Celula"}),e.jsxs($,{onValueChange:l.onChange,defaultValue:l.value?.toString(),children:[e.jsx(c,{children:e.jsx(W,{children:e.jsx(X,{placeholder:"Jovenes, Mujres, Hombres, Kids, etc."})})}),e.jsxs(_,{children:[e.jsx(t,{value:"1",children:"Mujeres"}),e.jsx(t,{value:"2",children:"Hombres"}),e.jsx(t,{value:"3",children:"Prejuveniles"}),e.jsx(t,{value:"4",children:"Mixta"}),e.jsx(t,{value:"5",children:"Jovenes"}),e.jsx(t,{value:"6",children:"Kids"}),e.jsx(t,{value:"7",children:"Rocas"})]})]}),e.jsx(v,{})]})}),e.jsx(i,{control:r.control,name:"neighborhood",render:({field:l})=>e.jsxs(d,{className:"flex flex-col",children:[e.jsx(b,{className:"mt-1 mb-1",children:"Barrio"}),e.jsxs(C,{children:[e.jsx(D,{asChild:!0,children:e.jsx(c,{children:e.jsxs(E,{variant:"outline",role:"combobox",className:N("w-full justify-between",!l.value&&"text-muted-foreground"),children:[l.value?O.find(a=>a.value===l.value)?.label:"Alejandria, Alicante, Porvenir, Trebol, etc.",e.jsx(h,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})})}),e.jsx(T,{className:"w-[400px] p-0",children:e.jsxs(p,{children:[e.jsx(g,{placeholder:"Escribe 2 letras para comentar la busqueda...",className:"h-9"}),e.jsxs(U,{children:[e.jsxs(V,{children:[e.jsxs("p",{className:"text-lg mb-2",children:["No se encontró el barrio. ",e.jsx("br",{}),"! Próximamente agregaremos funcionalidad para agregar un nuevo barrio"]}),e.jsx(E,{type:"button",disabled:!0,children:"Agregar un nuevo barrio"})]}),e.jsx(f,{children:O.map(a=>e.jsxs(M,{value:a.label,onSelect:()=>{r.setValue("neighborhood",a.value)},children:[a.label,e.jsx(I,{className:N("ml-auto h-4 w-4",a.value===l.value?"opacity-100":"opacity-0")})]},a.value))})]})]})})]}),e.jsx(v,{})]})}),e.jsx(i,{control:r.control,name:"address",render:({field:l})=>e.jsxs(d,{children:[e.jsx(b,{children:"Dirección"}),e.jsx(c,{children:e.jsx(x,{placeholder:"Calle 12 A N 2 - 4 Torre 2 Apartamento 301",...l})}),e.jsx(j,{children:"Ingresa la dirección completa con el complemento, torre, piso, interior, etc."}),e.jsx(v,{})]})}),e.jsx(i,{control:r.control,name:"leader",render:({field:l})=>e.jsxs(d,{className:"flex flex-col",children:[e.jsx(b,{className:"mt-1 mb-1",children:"Lider"}),e.jsxs(C,{children:[e.jsx(D,{asChild:!0,children:e.jsx(c,{children:e.jsxs(E,{variant:"outline",role:"combobox",className:N("w-full justify-between",!l.value&&"text-muted-foreground"),children:[l.value?o.find(a=>a.id==l.value)?.name:"Andrea Rodriguez",e.jsx(h,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})})}),e.jsx(T,{className:"w-[400px] p-0",children:e.jsxs(p,{children:[e.jsx(g,{placeholder:"Escribe 2 letras para comentar la busqueda...",className:"h-9"}),e.jsxs(U,{children:[e.jsxs(V,{children:[e.jsxs("p",{className:"text-lg mb-2",children:["No se encontró el lider. ",e.jsx("br",{}),"! Próximamente agregaremos funcionalidad para agregar un lider"]}),e.jsx(E,{type:"button",disabled:!0,children:"Agregar un nuevo lider"})]}),e.jsx(f,{children:o.map(a=>e.jsxs(M,{value:a.name,onSelect:()=>{r.setValue("leader",a.id)},children:[a.name,e.jsx(I,{className:N("ml-auto h-4 w-4",a.id==l.value?"opacity-100":"opacity-0")})]},a.id))})]})]})})]}),e.jsx(v,{})]})}),e.jsx(i,{control:r.control,name:"host",render:({field:l})=>e.jsxs(d,{children:[e.jsx(b,{children:"Anfitrion"}),e.jsx(c,{children:e.jsx(x,{placeholder:"David Rodriguez",...l})}),e.jsx(j,{children:"Ingrese el nombre del anfitrión que recibirá la celula en su hogar."}),e.jsx(v,{})]})}),e.jsxs(E,{type:"submit",className:"col-span-2",children:[e.jsx(re,{className:"mr-2"})," Guardr cambios"]})]})})}),A&&e.jsx(Ae,{idCell:A})]})};export{Le as default};
